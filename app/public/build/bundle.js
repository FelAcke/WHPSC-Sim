var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function i(){return Object.create(null)}function l(t){t.forEach(s)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,s){if(t){const i=a(t,e,n,s);return t[0](i)}}function a(t,e,s,i){return t[1]&&i?n(s.ctx.slice(),t[1](i(e))):s.ctx}function u(t,e,n,s,i,l,o){const r=function(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|i[s];return t}return e.dirty|i}return e.dirty}(e,s,i,l);if(r){const i=a(e,n,s,o);t.p(i,r)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}const h="undefined"!=typeof window;let p=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&g($)}function b(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function C(){return _(" ")}function S(){return _("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function W(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){for(const n in e)W(t,n,e[n])}function M(t){return""===t?void 0:+t}function I(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}function z(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}function O(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const j=new Set;let P,D=0;function R(t,e,n,s,i,l,o,r=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*l(t);a+=100*t+`%{${o(s,1-s)}}\n`}const u=a+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,f=t.ownerDocument;j.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(x("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${s}ms linear ${i}ms 1 both`,D+=1,d}function T(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-s.length;i&&(t.style.animation=s.join(", "),D-=i,D||g(()=>{D||(j.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),j.clear())}))}function A(t){P=t}function L(){if(!P)throw new Error("Function called outside component initialization");return P}function H(t){L().$$.on_mount.push(t)}function U(){const t=L();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const i=O(e,n);s.slice().forEach(e=>{e.call(t,i)})}}}function F(t,e){L().$$.context.set(t,e)}function Y(t){return L().$$.context.get(t)}function G(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const V=[],J=[],K=[],Z=[],X=Promise.resolve();let Q=!1;function tt(t){K.push(t)}function et(t){Z.push(t)}let nt=!1;const st=new Set;function it(){if(!nt){nt=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];A(e),lt(e.$$)}for(V.length=0;J.length;)J.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];st.has(e)||(st.add(e),e())}K.length=0}while(V.length);for(;Z.length;)Z.pop()();Q=!1,nt=!1,st.clear()}}function lt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}let ot;function rt(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const ct=new Set;let at;function ut(){at={r:0,c:[],p:at}}function dt(){at.r||l(at.c),at=at.p}function ft(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function ht(t,e,n,s){if(t&&t.o){if(ct.has(t))return;ct.add(t),at.c.push(()=>{ct.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const pt={duration:0};function gt(n,s,i,r){let c=s(n,i),a=r?0:1,u=null,d=null,f=null;function h(){f&&T(n,f)}function b(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(s){const{delay:i=0,duration:o=300,easing:r=e,tick:v=t,css:w}=c||pt,y={start:p()+i,b:s};s||(y.group=at,at.r+=1),u?d=y:(w&&(h(),f=R(n,a,s,o,i,r,w)),s&&v(0,1),u=b(y,o),tt(()=>rt(n,s,"start")),function(t){let e;0===m.size&&g($),new Promise(n=>{m.add(e={c:t,f:n})})}(t=>{if(d&&t>d.start&&(u=b(d,o),d=null,rt(n,u.b,"start"),w&&(h(),f=R(n,a,u.b,u.duration,0,r,c.css))),u)if(t>=u.end)v(a=u.b,1-a),rt(n,u.b,"end"),d||(u.b?h():--u.group.r||l(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*r(e/u.duration),v(a,1-a)}return!(!u&&!d)}))}return{run(t){o(c)?(ot||(ot=Promise.resolve(),ot.then(()=>{ot=null})),ot).then(()=>{c=c(),v(t)}):v(t)},end(){h(),u=d=null}}}function mt(t,e){const n={},s={},i={$$scope:1};let l=t.length;for(;l--;){const o=t[l],r=e[l];if(r){for(const t in o)t in r||(s[t]=1);for(const t in r)i[t]||(n[t]=r[t],i[t]=1);t[l]=r}else for(const t in o)i[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function $t(t){return"object"==typeof t&&null!==t?t:{}}function bt(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function vt(t){t&&t.c()}function wt(t,e,n){const{fragment:i,on_mount:r,on_destroy:c,after_update:a}=t.$$;i&&i.m(e,n),tt(()=>{const e=r.map(s).filter(o);c?c.push(...e):l(e),t.$$.on_mount=[]}),a.forEach(tt)}function yt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){-1===t.$$.dirty[0]&&(V.push(t),Q||(Q=!0,X.then(it)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(e,n,s,o,r,c,a=[-1]){const u=P;A(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:a};let h=!1;if(f.ctx=s?s(e,d,(t,n,...s)=>{const i=s.length?s[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),h&&xt(e,t)),n}):[],f.update(),h=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&ft(e.$$.fragment),wt(e,n.target,n.anchor),it()}A(u)}class _t{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}class Ct extends _t{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function St(e){let s,i,l=[{key:i="path-"+e[0]},e[1]],o={};for(let t=0;t<l.length;t+=1)o=n(o,l[t]);return{c(){s=k("path"),q(s,o)},m(t,e){v(t,s,e)},p(t,[e]){q(s,o=mt(l,[1&e&&i!==(i="path-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&w(s)}}}function Nt(t,e,n){let{id:s=""}=e,{data:i={}}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"data"in t&&n(1,i=t.data)},[s,i]}class Wt extends _t{constructor(t){super(),kt(this,t,Nt,St,r,{id:0,data:1})}}function qt(e){let s,i,l=[{key:i="polygon-"+e[0]},e[1]],o={};for(let t=0;t<l.length;t+=1)o=n(o,l[t]);return{c(){s=k("polygon"),q(s,o)},m(t,e){v(t,s,e)},p(t,[e]){q(s,o=mt(l,[1&e&&i!==(i="polygon-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&w(s)}}}function Mt(t,e,n){let{id:s=""}=e,{data:i={}}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"data"in t&&n(1,i=t.data)},[s,i]}class It extends _t{constructor(t){super(),kt(this,t,Mt,qt,r,{id:0,data:1})}}function Bt(e){let n;return{c(){n=k("g")},m(t,s){v(t,n,s),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&w(n)}}}function zt(t,e,n){let s,i=870711;let{data:l}=e;function o(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(t,e)=>{const s=(i+=1,"fa-"+i.toString(16));return n[e]=s,` id="${s}"`}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,e,s,i)=>{const l=e||i;return l&&n[l]?"#"+n[l]:t}),e}return t.$set=t=>{"data"in t&&n(1,l=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,s=o(l))},[s,l]}class Et extends _t{constructor(t){super(),kt(this,t,zt,Bt,r,{data:1})}}function Ot(t){let e,n,s,i;const l=t[13].default,o=c(l,t,t[12],null);return{c(){e=k("svg"),o&&o.c(),W(e,"version","1.1"),W(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),W(e,"x",t[8]),W(e,"y",t[9]),W(e,"width",t[1]),W(e,"height",t[2]),W(e,"aria-label",t[11]),W(e,"role",s=t[11]?"img":"presentation"),W(e,"viewBox",t[3]),W(e,"style",t[10]),E(e,"fa-spin",t[4]),E(e,"fa-pulse",t[6]),E(e,"fa-inverse",t[5]),E(e,"fa-flip-horizontal","horizontal"===t[7]),E(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){v(t,e,n),o&&o.m(e,null),i=!0},p(t,[r]){o&&o.p&&4096&r&&u(o,l,t,t[12],r,null,null),(!i||1&r&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&W(e,"class",n),(!i||256&r)&&W(e,"x",t[8]),(!i||512&r)&&W(e,"y",t[9]),(!i||2&r)&&W(e,"width",t[1]),(!i||4&r)&&W(e,"height",t[2]),(!i||2048&r)&&W(e,"aria-label",t[11]),(!i||2048&r&&s!==(s=t[11]?"img":"presentation"))&&W(e,"role",s),(!i||8&r)&&W(e,"viewBox",t[3]),(!i||1024&r)&&W(e,"style",t[10]),17&r&&E(e,"fa-spin",t[4]),65&r&&E(e,"fa-pulse",t[6]),33&r&&E(e,"fa-inverse",t[5]),129&r&&E(e,"fa-flip-horizontal","horizontal"===t[7]),129&r&&E(e,"fa-flip-vertical","vertical"===t[7])},i(t){i||(ft(o,t),i=!0)},o(t){ht(o,t),i=!1},d(t){t&&w(e),o&&o.d(t)}}}function jt(t,e,n){let{class:s}=e,{width:i}=e,{height:l}=e,{box:o}=e,{spin:r=!1}=e,{inverse:c=!1}=e,{pulse:a=!1}=e,{flip:u=null}=e,{x:d}=e,{y:f}=e,{style:h}=e,{label:p}=e,{$$slots:g={},$$scope:m}=e;return t.$set=t=>{"class"in t&&n(0,s=t.class),"width"in t&&n(1,i=t.width),"height"in t&&n(2,l=t.height),"box"in t&&n(3,o=t.box),"spin"in t&&n(4,r=t.spin),"inverse"in t&&n(5,c=t.inverse),"pulse"in t&&n(6,a=t.pulse),"flip"in t&&n(7,u=t.flip),"x"in t&&n(8,d=t.x),"y"in t&&n(9,f=t.y),"style"in t&&n(10,h=t.style),"label"in t&&n(11,p=t.label),"$$scope"in t&&n(12,m=t.$$scope)},[s,i,l,o,r,c,a,u,d,f,h,p,m,g]}class Pt extends _t{constructor(t){super(),kt(this,t,jt,Ot,r,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function Dt(t,e,n){const s=t.slice();return s[24]=e[n],s[26]=n,s}function Rt(t,e,n){const s=t.slice();return s[27]=e[n],s[26]=n,s}function Tt(t){let e,n,s,i,l=t[0].paths&&At(t),o=t[0].polygons&&Ht(t),r=t[0].raw&&Ft(t);return{c(){l&&l.c(),e=C(),o&&o.c(),n=C(),r&&r.c(),s=S()},m(t,c){l&&l.m(t,c),v(t,e,c),o&&o.m(t,c),v(t,n,c),r&&r.m(t,c),v(t,s,c),i=!0},p(t,i){t[0].paths?l?(l.p(t,i),1&i&&ft(l,1)):(l=At(t),l.c(),ft(l,1),l.m(e.parentNode,e)):l&&(ut(),ht(l,1,1,()=>{l=null}),dt()),t[0].polygons?o?(o.p(t,i),1&i&&ft(o,1)):(o=Ht(t),o.c(),ft(o,1),o.m(n.parentNode,n)):o&&(ut(),ht(o,1,1,()=>{o=null}),dt()),t[0].raw?r?(r.p(t,i),1&i&&ft(r,1)):(r=Ft(t),r.c(),ft(r,1),r.m(s.parentNode,s)):r&&(ut(),ht(r,1,1,()=>{r=null}),dt())},i(t){i||(ft(l),ft(o),ft(r),i=!0)},o(t){ht(l),ht(o),ht(r),i=!1},d(t){l&&l.d(t),t&&w(e),o&&o.d(t),t&&w(n),r&&r.d(t),t&&w(s)}}}function At(t){let e,n,s=t[0].paths,i=[];for(let e=0;e<s.length;e+=1)i[e]=Lt(Rt(t,s,e));const l=t=>ht(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,s){for(let e=0;e<i.length;e+=1)i[e].m(t,s);v(t,e,s),n=!0},p(t,n){if(1&n){let o;for(s=t[0].paths,o=0;o<s.length;o+=1){const l=Rt(t,s,o);i[o]?(i[o].p(l,n),ft(i[o],1)):(i[o]=Lt(l),i[o].c(),ft(i[o],1),i[o].m(e.parentNode,e))}for(ut(),o=s.length;o<i.length;o+=1)l(o);dt()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)ft(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)ht(i[t]);n=!1},d(t){y(i,t),t&&w(e)}}}function Lt(t){let e,n;return e=new Wt({props:{id:t[26],data:t[27]}}),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.data=t[27]),e.$set(s)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ht(t){let e,n,s=t[0].polygons,i=[];for(let e=0;e<s.length;e+=1)i[e]=Ut(Dt(t,s,e));const l=t=>ht(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,s){for(let e=0;e<i.length;e+=1)i[e].m(t,s);v(t,e,s),n=!0},p(t,n){if(1&n){let o;for(s=t[0].polygons,o=0;o<s.length;o+=1){const l=Dt(t,s,o);i[o]?(i[o].p(l,n),ft(i[o],1)):(i[o]=Ut(l),i[o].c(),ft(i[o],1),i[o].m(e.parentNode,e))}for(ut(),o=s.length;o<i.length;o+=1)l(o);dt()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)ft(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)ht(i[t]);n=!1},d(t){y(i,t),t&&w(e)}}}function Ut(t){let e,n;return e=new It({props:{id:t[26],data:t[24]}}),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.data=t[24]),e.$set(s)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ft(t){let e,n,s;function i(e){t[15].call(null,e)}let l={};return void 0!==t[0]&&(l.data=t[0]),e=new Et({props:l}),J.push(()=>bt(e,"data",i)),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,s){const i={};!n&&1&s&&(n=!0,i.data=t[0],et(()=>n=!1)),e.$set(i)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Yt(t){let e;const n=t[14].default,s=c(n,t,t[16],null),i=s||function(t){let e,n,s=t[0]&&Tt(t);return{c(){s&&s.c(),e=S()},m(t,i){s&&s.m(t,i),v(t,e,i),n=!0},p(t,n){t[0]?s?(s.p(t,n),1&n&&ft(s,1)):(s=Tt(t),s.c(),ft(s,1),s.m(e.parentNode,e)):s&&(ut(),ht(s,1,1,()=>{s=null}),dt())},i(t){n||(ft(s),n=!0)},o(t){ht(s),n=!1},d(t){s&&s.d(t),t&&w(e)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){s?s.p&&65536&e&&u(s,n,t,t[16],e,null,null):i&&i.p&&1&e&&i.p(t,e)},i(t){e||(ft(i,t),e=!0)},o(t){ht(i,t),e=!1},d(t){i&&i.d(t)}}}function Gt(t){let e,n;return e=new Pt({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[Yt]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(t,[n]){const s={};64&n&&(s.label=t[6]),128&n&&(s.width=t[7]),256&n&&(s.height=t[8]),1024&n&&(s.box=t[10]),512&n&&(s.style=t[9]),4&n&&(s.spin=t[2]),32&n&&(s.flip=t[5]),8&n&&(s.inverse=t[3]),16&n&&(s.pulse=t[4]),2&n&&(s.class=t[1]),65537&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Vt(t,e,n){let s,i,l,o,{class:r=""}=e,{data:c}=e,{scale:a=1}=e,{spin:u=!1}=e,{inverse:d=!1}=e,{pulse:f=!1}=e,{flip:h=null}=e,{label:p=null}=e,{self:g=null}=e,{style:m=null}=e;function $(){let t=1;return void 0!==a&&(t=Number(a)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function b(){return g?Math.max(g.width,g.height)/16:1}let{$$slots:v={},$$scope:w}=e;return t.$set=t=>{"class"in t&&n(1,r=t.class),"data"in t&&n(11,c=t.data),"scale"in t&&n(12,a=t.scale),"spin"in t&&n(2,u=t.spin),"inverse"in t&&n(3,d=t.inverse),"pulse"in t&&n(4,f=t.pulse),"flip"in t&&n(5,h=t.flip),"label"in t&&n(6,p=t.label),"self"in t&&n(0,g=t.self),"style"in t&&n(13,m=t.style),"$$scope"in t&&n(16,w=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===c)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,s=t.iconName,i={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[s]=i,e}return t}(c),[e]=Object.keys(t),s=t[e];s.paths||(s.paths=[]),s.d&&s.paths.push({d:s.d}),s.polygons||(s.polygons=[]),s.points&&s.polygons.push({points:s.points}),n(0,g=s)}(),n(7,s=g?g.width/b()*$():0),n(8,i=g?g.height/b()*$():0),n(9,l=function(){let t="";null!==m&&(t+=m);let e=$();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,o=g?`0 0 ${g.width} ${g.height}`:`0 0 ${s} ${i}`))},[g,r,u,d,f,h,p,s,i,l,o,c,a,m,v,function(t){g=t,n(0,g)},w]}class Jt extends _t{constructor(t){super(),kt(this,t,Vt,Gt,r,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var Kt={close:{width:1408,height:1792,paths:[{d:"M1298 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}]}},Zt={gear:{width:1536,height:1792,paths:[{d:"M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1536 787v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"}]}};function Xt(t){const e=t-1;return e*e*e+1}function Qt(t,{delay:n=0,duration:s=400,easing:i=e}){const l=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:i,css:t=>"opacity: "+t*l}}function te(t,{delay:e=0,duration:n=400,easing:s=Xt,x:i=0,y:l=0,opacity:o=0}){const r=getComputedStyle(t),c=+r.opacity,a="none"===r.transform?"":r.transform,u=c*(1-o);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*i}px, ${(1-t)*l}px);\n\t\t\topacity: ${c-u*e}`}}function ee(t){let e,s,i,r,c,a,u,d,f,h,p,g=t[0].closeButton&&ne(t);const m=[t[2]];var $=t[1];function y(t){let e={};for(let t=0;t<m.length;t+=1)e=n(e,m[t]);return{props:e}}return $&&(a=new $(y())),{c(){e=x("div"),s=x("div"),i=x("div"),g&&g.c(),r=C(),c=x("div"),a&&vt(a.$$.fragment),W(c,"class","content svelte-1hfz9of"),W(c,"style",t[12]),W(i,"class","window svelte-1hfz9of"),W(i,"role","dialog"),W(i,"aria-modal","true"),W(i,"style",t[11]),W(s,"class","window-wrap svelte-1hfz9of"),W(e,"class","bg svelte-1hfz9of"),W(e,"style",t[10])},m(n,l){v(n,e,l),b(e,s),b(s,i),g&&g.m(i,null),b(i,r),b(i,c),a&&wt(a,c,null),t[35](i),t[36](s),t[37](e),f=!0,h||(p=[N(i,"introstart",(function(){o(t[6])&&t[6].apply(this,arguments)})),N(i,"outrostart",(function(){o(t[7])&&t[7].apply(this,arguments)})),N(i,"introend",(function(){o(t[8])&&t[8].apply(this,arguments)})),N(i,"outroend",(function(){o(t[9])&&t[9].apply(this,arguments)})),N(e,"click",t[19])],h=!0)},p(n,s){(t=n)[0].closeButton?g?(g.p(t,s),1&s[0]&&ft(g,1)):(g=ne(t),g.c(),ft(g,1),g.m(i,r)):g&&(ut(),ht(g,1,1,()=>{g=null}),dt());const l=4&s[0]?mt(m,[$t(t[2])]):{};if($!==($=t[1])){if(a){ut();const t=a;ht(t.$$.fragment,1,0,()=>{yt(t,1)}),dt()}$?(a=new $(y()),vt(a.$$.fragment),ft(a.$$.fragment,1),wt(a,c,null)):a=null}else $&&a.$set(l);(!f||4096&s[0])&&W(c,"style",t[12]),(!f||2048&s[0])&&W(i,"style",t[11]),(!f||1024&s[0])&&W(e,"style",t[10])},i(n){f||(ft(g),a&&ft(a.$$.fragment,n),tt(()=>{u||(u=gt(i,t[15],t[0].transitionWindowProps,!0)),u.run(1)}),tt(()=>{d||(d=gt(e,t[14],t[0].transitionBgProps,!0)),d.run(1)}),f=!0)},o(n){ht(g),a&&ht(a.$$.fragment,n),u||(u=gt(i,t[15],t[0].transitionWindowProps,!1)),u.run(0),d||(d=gt(e,t[14],t[0].transitionBgProps,!1)),d.run(0),f=!1},d(n){n&&w(e),g&&g.d(),a&&yt(a),t[35](null),n&&u&&u.end(),t[36](null),t[37](null),n&&d&&d.end(),h=!1,l(p)}}}function ne(t){let e,n,s,i,l;const o=[ie,se],r=[];function c(t,n){return 1&n[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return n=c(t,[-1]),s=r[n]=o[n](t),{c(){s.c(),i=S()},m(t,e){r[n].m(t,e),v(t,i,e),l=!0},p(t,e){let l=n;n=c(t,e),n===l?r[n].p(t,e):(ut(),ht(r[l],1,1,()=>{r[l]=null}),dt(),s=r[n],s||(s=r[n]=o[n](t),s.c()),ft(s,1),s.m(i.parentNode,i))},i(t){l||(ft(s),l=!0)},o(t){ht(s),l=!1},d(t){r[n].d(t),t&&w(i)}}}function se(e){let n,s,i;return{c(){n=x("button"),W(n,"class","close svelte-1hfz9of"),W(n,"style",e[13])},m(t,l){v(t,n,l),s||(i=N(n,"click",e[17]),s=!0)},p(t,e){8192&e[0]&&W(n,"style",t[13])},i:t,o:t,d(t){t&&w(n),s=!1,i()}}}function ie(t){let e,n,s;var i=t[0].closeButton;function l(t){return{props:{onClose:t[17]}}}return i&&(e=new i(l(t))),{c(){e&&vt(e.$$.fragment),n=S()},m(t,i){e&&wt(e,t,i),v(t,n,i),s=!0},p(t,s){if(i!==(i=t[0].closeButton)){if(e){ut();const t=e;ht(t.$$.fragment,1,0,()=>{yt(t,1)}),dt()}i?(e=new i(l(t)),vt(e.$$.fragment),ft(e.$$.fragment,1),wt(e,n.parentNode,n)):e=null}},i(t){s||(e&&ft(e.$$.fragment,t),s=!0)},o(t){e&&ht(e.$$.fragment,t),s=!1},d(t){t&&w(n),e&&yt(e,t)}}}function le(t){let e,n,s,i,l=t[1]&&ee(t);const o=t[34].default,r=c(o,t,t[33],null);return{c(){l&&l.c(),e=C(),r&&r.c()},m(o,c){l&&l.m(o,c),v(o,e,c),r&&r.m(o,c),n=!0,s||(i=N(window,"keydown",t[18]),s=!0)},p(t,n){t[1]?l?(l.p(t,n),2&n[0]&&ft(l,1)):(l=ee(t),l.c(),ft(l,1),l.m(e.parentNode,e)):l&&(ut(),ht(l,1,1,()=>{l=null}),dt()),r&&r.p&&4&n[1]&&u(r,o,t,t[33],n,null,null)},i(t){n||(ft(l),ft(r,t),n=!0)},o(t){ht(l),ht(r,t),n=!1},d(t){l&&l.d(t),t&&w(e),r&&r.d(t),s=!1,i()}}}function oe(t,e,n){let{key:s="simple-modal"}=e,{closeButton:i=!0}=e,{closeOnEsc:l=!0}=e,{closeOnOuterClick:o=!0}=e,{styleBg:r={top:0,left:0}}=e,{styleWindow:c={}}=e,{styleContent:a={}}=e,{styleCloseButton:u={}}=e,{setContext:d=F}=e,{transitionBg:f=Qt}=e,{transitionBgProps:h={duration:250}}=e,{transitionWindow:p=f}=e,{transitionWindowProps:g=h}=e;const m={closeButton:i,closeOnEsc:l,closeOnOuterClick:o,styleBg:r,styleWindow:c,styleContent:a,styleCloseButton:u,transitionBg:f,transitionBgProps:h,transitionWindow:p,transitionWindowProps:g};let $,b,v,w={...m},y=null,x=null;const k=t=>Object.keys(t).reduce((e,n)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${t[n]}`,""),_=()=>{};let C=_,S=_,N=_,W=_;const q=(t={})=>{n(7,S=t.onClose||S),n(9,W=t.onClosed||W),n(1,y=null),n(2,x=null)};d(s,{open:(t,e={},s={},i={})=>{n(1,y=t),n(2,x=e),n(0,w={...m,...s}),n(6,C=i.onOpen||_),n(7,S=i.onClose||_),n(8,N=i.onOpened||_),n(9,W=i.onClosed||_)},close:q});let M,I,B,z,E,O,{$$slots:j={},$$scope:P}=e;return t.$set=t=>{"key"in t&&n(20,s=t.key),"closeButton"in t&&n(21,i=t.closeButton),"closeOnEsc"in t&&n(22,l=t.closeOnEsc),"closeOnOuterClick"in t&&n(23,o=t.closeOnOuterClick),"styleBg"in t&&n(24,r=t.styleBg),"styleWindow"in t&&n(25,c=t.styleWindow),"styleContent"in t&&n(26,a=t.styleContent),"styleCloseButton"in t&&n(27,u=t.styleCloseButton),"setContext"in t&&n(28,d=t.setContext),"transitionBg"in t&&n(29,f=t.transitionBg),"transitionBgProps"in t&&n(30,h=t.transitionBgProps),"transitionWindow"in t&&n(31,p=t.transitionWindow),"transitionWindowProps"in t&&n(32,g=t.transitionWindowProps),"$$scope"in t&&n(33,P=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(10,M=k(w.styleBg)),1&t.$$.dirty[0]&&n(11,I=k(w.styleWindow)),1&t.$$.dirty[0]&&n(12,B=k(w.styleContent)),1&t.$$.dirty[0]&&n(13,z=k(w.styleCloseButton)),1&t.$$.dirty[0]&&n(14,E=w.transitionBg),1&t.$$.dirty[0]&&n(15,O=w.transitionWindow)},[w,y,x,$,b,v,C,S,N,W,M,I,B,z,E,O,t=>Ct.isPrototypeOf(t),q,t=>{if(w.closeOnEsc&&y&&"Escape"===t.key&&(t.preventDefault(),q()),y&&"Tab"===t.key){const e=v.querySelectorAll("*"),n=Array.from(e).filter(t=>t.tabIndex>=0);let s=n.indexOf(document.activeElement);-1===s&&t.shiftKey&&(s=0),s+=n.length+(t.shiftKey?-1:1),s%=n.length,n[s].focus(),t.preventDefault()}},t=>{!w.closeOnOuterClick||t.target!==$&&t.target!==b||(t.preventDefault(),q())},s,i,l,o,r,c,a,u,d,f,h,p,g,P,j,function(t){J[t?"unshift":"push"](()=>{v=t,n(5,v)})},function(t){J[t?"unshift":"push"](()=>{b=t,n(4,b)})},function(t){J[t?"unshift":"push"](()=>{$=t,n(3,$)})}]}class re extends _t{constructor(t){super(),kt(this,t,oe,le,r,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32},[-1,-1])}}const ce=[];function ae(e,n=t){let s;const i=[];function l(t){if(r(e,t)&&(e=t,s)){const t=!ce.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ce.push(n,e)}if(t){for(let t=0;t<ce.length;t+=2)ce[t][0](ce[t+1]);ce.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(o,r=t){const c=[o,r];return i.push(c),1===i.length&&(s=n(l)||t),o(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(s(),s=null)}}}}class ue{constructor(t,e,n,s,i,l,o){this._bikeWeight=t,this._wheelsInertia=e,this._wheelsCircumference=n,this._efficiency=s,this._area=i,this._cx=l,this._coefficientsFile=o}get bikeWeight(){return this._bikeWeight}get wheelsInertia(){return this._wheelsInertia}get wheelsCircumference(){return this._wheelsCircumference}get wheelsRadius(){return this._wheelsCircumference/6.283}get efficiency(){return this._efficiency}get area(){return this._area}get cx(){return this._cx}get coefficientsFile(){return this._coefficientsFile}}class de{constructor(t,e,n){this._riderWeight=t,this._riderHeight=e,this._rho=n}get riderWeight(){return this._riderWeight}get riderHeight(){return this._riderHeight}get rho(){return this._rho}}class fe{constructor(t,e,n,s){this.bikeName=t,this.imgSrc=e,this.description=n,this.settings=s}}const he=ae(0),pe=ae(0),ge=new ue(30,.09,1.45,.95,.3,.05,"coefficients4.json"),me=new de(70,180,1.01),$e=()=>"true"===localStorage.getItem("debug");let be=()=>{const t=localStorage.getItem("bike_settings");return null===t?ge:function(t){return new ue(t._bikeWeight,t._wheelsInertia,t._wheelsCircumference,t._efficiency,t._area,t._cx,"coefficients4.json")}(JSON.parse(t))},ve=()=>{const t=localStorage.getItem("user_settings");return null===t?me:function(t){return new de(t._riderWeight,t._riderHeight,t._rho)}(JSON.parse(t))};function we(t){let e,n,s,i,l,o,r;const a=t[5].default,d=c(a,t,t[4],null);return{c(){e=x("a"),n=x("div"),s=x("div"),d&&d.c(),i=C(),l=_(t[1]),W(s,"aria-hidden","true"),W(s,"class","ssbc-button__icon svelte-abzkh4"),E(s,"ssbc-button__icon--fill",t[2]),E(s,"ssbc-button__icon--outline",!t[2]),W(n,"class",o="ssbc-button "+t[3]+" svelte-abzkh4"),W(e,"class","ssbc-button__link svelte-abzkh4"),W(e,"href",t[0]),W(e,"target","_blank"),W(e,"rel","noopener")},m(t,o){v(t,e,o),b(e,n),b(n,s),d&&d.m(s,null),b(n,i),b(n,l),r=!0},p(t,[i]){d&&d.p&&16&i&&u(d,a,t,t[4],i,null,null),4&i&&E(s,"ssbc-button__icon--fill",t[2]),4&i&&E(s,"ssbc-button__icon--outline",!t[2]),(!r||2&i)&&I(l,t[1]),(!r||8&i&&o!==(o="ssbc-button "+t[3]+" svelte-abzkh4"))&&W(n,"class",o),(!r||1&i)&&W(e,"href",t[0])},i(t){r||(ft(d,t),r=!0)},o(t){ht(d,t),r=!1},d(t){t&&w(e),d&&d.d(t)}}}function ye(t,e,n){let{href:s}=e,{label:i=""}=e,{fill:l=!0}=e,{class:o=""}=e,{$$slots:r={},$$scope:c}=e;return t.$set=t=>{"href"in t&&n(0,s=t.href),"label"in t&&n(1,i=t.label),"fill"in t&&n(2,l=t.fill),"class"in t&&n(3,o=t.class),"$$scope"in t&&n(4,c=t.$$scope)},[s,i,l,o,c,r]}class xe extends _t{constructor(t){super(),kt(this,t,ye,we,r,{href:0,label:1,fill:2,class:3})}}function ke(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function _e(t){let e,s;const i=[{class:"ssbc-button--email "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[ke]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--email "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Ce(t,e,s){const i=["subject","body","class"];let l,o=f(e,i),{subject:r}=e,{body:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"subject"in t&&s(3,r=t.subject),"body"in t&&s(4,c=t.body),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,l=encodeURI(`mailto:?subject=${r}&body=${c}`))},[a,l,o,r,c]}class Se extends _t{constructor(t){super(),kt(this,t,Ce,_e,r,{subject:3,body:4,class:0})}}function Ne(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function We(t){let e,s;const i=[{class:"ssbc-button--facebook "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[Ne]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--facebook "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function qe(t,e,s){const i=["url","class"];let l,o=f(e,i),{url:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"url"in t&&s(3,r=t.url),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,l=encodeURI("https://facebook.com/sharer/sharer.php?u="+r))},[c,l,o,r]}class Me extends _t{constructor(t){super(),kt(this,t,qe,We,r,{url:3,class:0})}}function Ie(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function Be(t){let e,s;const i=[{class:"ssbc-button--linkedin "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[Ie]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--linkedin "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function ze(t,e,s){const i=["url","class"];let l,o=f(e,i),{url:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"url"in t&&s(3,r=t.url),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,l=encodeURI("https://www.linkedin.com/sharing/share-offsite/?url="+r))},[c,l,o,r]}class Ee extends _t{constructor(t){super(),kt(this,t,ze,Be,r,{url:3,class:0})}}function Oe(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function je(t){let e,s;const i=[{class:"ssbc-button--reddit "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[Oe]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--reddit "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Pe(t,e,s){const i=["title","url","class"];let l,o=f(e,i),{title:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"title"in t&&s(3,r=t.title),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,l=encodeURI(`https://reddit.com/submit/?url=${c}&resubmit=true&title=${r}`))},[a,l,o,r,c]}class De extends _t{constructor(t){super(),kt(this,t,Pe,je,r,{title:3,url:4,class:0})}}function Re(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function Te(t){let e,s;const i=[{class:"ssbc-button--telegram "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[Re]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--telegram "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Ae(t,e,s){const i=["text","url","class"];let l,o=f(e,i),{text:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"text"in t&&s(3,r=t.text),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,l=encodeURI(`https://telegram.me/share/url?text=${r}&url=${c}`))},[a,l,o,r,c]}class Le extends _t{constructor(t){super(),kt(this,t,Ae,Te,r,{text:3,url:4,class:0})}}function He(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function Ue(t){let e,s;const i=[{class:"ssbc-button--twitter "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[He]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--twitter "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Fe(t,e,s){const i=["text","url","class"];let l,o=f(e,i),{text:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"text"in t&&s(3,r=t.text),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,l=encodeURI(`https://twitter.com/intent/tweet/?text=${r}&url=${c}`))},[a,l,o,r,c]}class Ye extends _t{constructor(t){super(),kt(this,t,Fe,Ue,r,{text:3,url:4,class:0})}}function Ge(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){v(t,e,s),b(e,n)},d(t){t&&w(e)}}}function Ve(t){let e,s;const i=[{class:"ssbc-button--whatsapp "+t[0]},t[2],{href:t[1]}];let l={$$slots:{default:[Ge]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return e=new xe({props:l}),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,[n]){const s=7&n?mt(i,[1&n&&{class:"ssbc-button--whatsapp "+t[0]},4&n&&$t(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Je(t,e,s){const i=["text","class"];let l,o=f(e,i),{text:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,o=f(e,i)),"text"in t&&s(3,r=t.text),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,l=encodeURI("whatsapp://send?text="+r))},[c,l,o,r]}class Ke extends _t{constructor(t){super(),kt(this,t,Je,Ve,r,{text:3,class:0})}}function Ze(t){let e,n,s;return{c(){e=x("div"),n=x("h2"),s=_(t[7]),W(n,"class","svelte-12cyad1"),W(e,"class","relative svelte-12cyad1")},m(t,i){v(t,e,i),b(e,n),b(n,s)},p(t,e){128&e[0]&&I(s,t[7])},d(t){t&&w(e)}}}function Xe(t){let e,n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,q,M,B,z,E,O,j,P,D,R,T,A,L,H=Math.round(10*t[3])/10+"",U=Math.trunc(t[5]/60)>0?Math.trunc(t[5]/60)+"'":"",F=Math.round(t[5]%60)+'"',Y=Math.round(t[4]/10)/100+"",G=t[2]&&Qe();return{c(){e=x("div"),n=x("video"),s=x("source"),l=_("\n        Your browser does not support video."),r=C(),c=x("div"),a=_("Speed: "),u=_(H),d=_(" km/h"),f=C(),h=x("div"),p=_("Power: "),g=_(t[0]),m=_(" W"),$=C(),y=x("div"),k=_(t[7]),S=C(),G&&G.c(),q=C(),M=x("div"),B=_("Time: "),z=_(U),E=C(),O=_(F),j=C(),P=x("div"),D=_("Distance: "),R=_(Y),T=_(" km"),s.src!==(i="data/bm-13-09-19_no_scritte.mp4")&&W(s,"src","data/bm-13-09-19_no_scritte.mp4"),W(s,"type","video/mp4"),W(n,"width",t[1]),W(n,"height",o=t[1]/1.666666666),n.muted=!0,W(n,"class","svelte-12cyad1"),W(c,"class","overlay bottom_left svelte-12cyad1"),W(h,"class","overlay bottom_right svelte-12cyad1"),W(y,"class","overlay center svelte-12cyad1"),W(M,"class","overlay top_left svelte-12cyad1"),W(P,"class","overlay top_right svelte-12cyad1"),W(e,"class","relative svelte-12cyad1")},m(i,o){v(i,e,o),b(e,n),b(n,s),b(n,l),t[13](n),isNaN(t[6])||(n.playbackRate=t[6]),b(e,r),b(e,c),b(c,a),b(c,u),b(c,d),b(e,f),b(e,h),b(h,p),b(h,g),b(h,m),b(e,$),b(e,y),b(y,k),b(e,S),G&&G.m(e,null),b(e,q),b(e,M),b(M,B),b(M,z),b(M,E),b(M,O),b(e,j),b(e,P),b(P,D),b(P,R),b(P,T),A||(L=N(n,"ratechange",t[14]),A=!0)},p(t,s){2&s[0]&&W(n,"width",t[1]),2&s[0]&&o!==(o=t[1]/1.666666666)&&W(n,"height",o),64&s[0]&&!isNaN(t[6])&&(n.playbackRate=t[6]),8&s[0]&&H!==(H=Math.round(10*t[3])/10+"")&&I(u,H),1&s[0]&&I(g,t[0]),128&s[0]&&I(k,t[7]),t[2]?G||(G=Qe(),G.c(),G.m(e,q)):G&&(G.d(1),G=null),32&s[0]&&U!==(U=Math.trunc(t[5]/60)>0?Math.trunc(t[5]/60)+"'":"")&&I(z,U),32&s[0]&&F!==(F=Math.round(t[5]%60)+'"')&&I(O,F),16&s[0]&&Y!==(Y=Math.round(t[4]/10)/100+"")&&I(R,Y)},d(n){n&&w(e),t[13](null),G&&G.d(),A=!1,L()}}}function Qe(t){let e;return{c(){e=x("div"),e.textContent="Slow internet connection!",W(e,"class","overlay center2 svelte-12cyad1")},m(t,n){v(t,e,n)},d(t){t&&w(e)}}}function tn(e){let n;function s(t,e){return t[9]?Ze:Xe}let i=s(e),l=i(e);return{c(){n=x("section"),l.c(),W(n,"class","svelte-12cyad1")},m(t,e){v(t,n,e),l.m(n,null)},p(t,e){i===(i=s(t))&&l?l.p(t,e):(l.d(1),l=i(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&w(n),l.d()}}}const en=9.81,nn=8184,sn=8384;function ln(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,l){function o(t){try{c(s.next(t))}catch(t){l(t)}}function r(t){try{c(s.throw(t))}catch(t){l(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,r)}c((s=s.apply(t,e||[])).next())}))};let{bikeSettings:i}=e,{userSettings:l}=e,o=480,{power:r=0}=e;const c=U();let a,u,d,f,h,p,g=!1,m=0,$=0,b=0,v=0,w=0,y=0,x=0,k=!1,_=!1,C=0,S=0;function N(){return s(this,void 0,void 0,(function*(){k&&(clearInterval(p),n(6,y=0),yield h.pause(),n(8,h.currentTime=0,h),x=0,n(5,w=0),n(4,v=0),n(3,b=0),k=!1)}))}function W(){console.log("Window size"),window.screen.width/1.666666>window.screen.height?(console.log("1: ",1.666666*window.screen.height),n(1,o=1.666666*window.screen.height)):(console.log("2: ",window.screen.width),n(1,o=window.screen.width)),document.getElementsByClassName("relative").item(0).setAttribute("style","width:"+o+"px")}var q;function M(){(r>5e3||r<0)&&(alert("Not valid number!!"),n(3,b=0),clearInterval(p)),function(t,e,s){let i=0;for(;f[i].sec<x&&i<581;)i++;if(581===i)return n(6,y=0),c("message",{text:{speed:Math.round(100*C/S)/100,power:$/m}}),n(9,_=!0),void clearInterval(p);let l=f[i].kph;n(6,y=s/l),0!==y&&(y<.0625||y>16)&&(alert("Sorry but the speed is too low or too high, the activity will be restarted."),N());x+=y*e}(0,1,b);const t=I(b,1,v),e=function(t,e,n){if(t>8584){if(t<9384&&e>60)return 20*-e;if(t>=9384&&e>35)return 50*-e}return n}(v,b,r);n(3,b=function(t,e,n,s){const o=(t/=3.6)>40?400:Math.round(10*t),r=u[o].cr,c=u[o].cx*i.cx,a=.5*(i.bikeWeight+l.riderWeight)*Math.pow(t,2),d=.5*i.wheelsInertia*Math.pow(t,2)/Math.pow(i.wheelsRadius,2),f=i.efficiency*n*e,h=-s*t*n,p=(i.bikeWeight+l.riderWeight)*en*h,g=r*(i.bikeWeight+l.riderWeight)*en*n*t,m=.5*l.rho*c*i.area*Math.pow(t,3)*n,$=3.6*Math.pow(2*(a+d+f+p-m-g)/(i.bikeWeight+l.riderWeight+i.wheelsInertia/Math.pow(i.wheelsRadius,2)),.5);return $>0?$:0}(b,e,1,t)),console.log(b),n(5,w++,w),n(4,v+=b/3.6)}function I(t,e,n){t/=3.6;let s=Math.round(t*e+n),i=0;for(let t=n=Math.round(n);t<s;t++)i+=t<d.length-1?parseFloat(d[t]):0;return s!==n?-i/(s-n):0}return H(()=>s(void 0,void 0,void 0,(function*(){W(),window.onresize=W;let t=yield fetch("data/"+i.coefficientsFile);u=yield t.json(),t=yield fetch("data/slope.txt");const e=yield t.text();d=yield e.split("\n"),t=yield fetch("data/19-09-19-am-gallo_t2.json"),f=yield t.json(),n(8,h.onwaiting=()=>{console.log("WAITING"),n(2,g=!0),clearInterval(p)},h),n(8,h.onplaying=()=>{console.log("PLAYING"),n(2,g=!1),p=setInterval(M,1e3)},h),n(8,h.preload=!0,h),yield function(){return s(this,void 0,void 0,(function*(){k||(n(6,y=0),yield h.play(),k=!0)}))}(),n(9,_=!1),console.log(document.getElementsByClassName("relative").length)}))),q=()=>{clearInterval(p),window.onresize=null},L().$$.on_destroy.push(q),t.$set=t=>{"bikeSettings"in t&&n(10,i=t.bikeSettings),"userSettings"in t&&n(11,l=t.userSettings),"power"in t&&n(0,r=t.power)},t.$$.update=()=>{25264153&t.$$.dirty[0]&&(v>1&&v<sn&&(n(15,m++,m),$+=r),v>6575&&v<nn?n(7,a=`Distance to GO ${Math.round(nn-v)}m`):v>=nn&&v<=sn?(n(7,a=`Distance to END ${Math.round(sn-v)}m`),n(23,C+=b),n(24,S++,S),console.log(C,"",S)):v>sn?n(7,a="Slow down before catching! 😁🎳"):(n(7,a=""),n(24,S=0),n(23,C=0)))},[r,o,g,b,v,w,y,a,h,_,i,l,N,function(t){J[t?"unshift":"push"](()=>{h=t,n(8,h)})},function(){y=this.playbackRate,n(6,y)}]}class on extends _t{constructor(t){super(),kt(this,t,ln,tn,r,{bikeSettings:10,userSettings:11,power:0,reset:12},[-1,-1])}get reset(){return this.$$.ctx[12]}}class rn{constructor(t,e,n,s,i,l="",o="",r="",c="",a=!1){this.firstName=l,this.lastName=o,this.email=r,this.speed=t,this.power=e,this.bikeName=i,this.bikeSettings=n,this.userSettings=s,this.expanded=a,c.concat(" ");const u=c.split(/[- :]/);console.log(c),console.log(u),this.datetime=new Date(Date.UTC(Number(u[0]),Number(u[1]),Number(u[2]),Number(u[3]),Number(u[4]),Number(u[5])))}get date(){return`${this.datetime.getDate()}/${this.datetime.getMonth()}/${this.datetime.getFullYear()}`}checkTime(t){return t<10?"0"+t:t}get time(){return`${this.checkTime(this.datetime.getHours())}:${this.checkTime(this.datetime.getMinutes())}`}}function cn(e){let n,s,i;return{c(){n=x("h1"),n.textContent="One more step",s=C(),i=x("p"),i.textContent="Check your mail and confirm your attempt. You will become visible on\n      result as soon you confirm it.",W(n,"class","svelte-1njez97")},m(t,e){v(t,n,e),v(t,s,e),v(t,i,e)},p:t,d(t){t&&w(n),t&&w(s),t&&w(i)}}}function an(t){let e,n,s,i,o,r,c,a,u,d,f,h,p,g,m,$,y,k,_,S,q,M,I,z,E;return{c(){e=x("h1"),e.textContent="Save your result",n=C(),s=x("p"),s.textContent="We need some information to add your attempt to our results list.",i=C(),o=x("form"),r=x("div"),c=x("label"),c.textContent="First name",a=C(),u=x("input"),d=C(),f=x("div"),h=x("label"),h.textContent="Last name",p=C(),g=x("input"),m=C(),$=x("div"),y=x("label"),y.textContent="Email",k=C(),_=x("input"),S=C(),q=x("p"),M=C(),I=x("input"),W(e,"class","svelte-1njez97"),W(c,"for","firstName"),W(c,"class","svelte-1njez97"),u.required=!0,W(u,"id","firstName"),W(u,"type","text"),W(r,"class","formData svelte-1njez97"),W(h,"for","lastName"),W(h,"class","svelte-1njez97"),g.required=!0,W(g,"id","lastName"),W(g,"type","text"),W(f,"class","formData svelte-1njez97"),W(y,"for","email"),W(y,"class","svelte-1njez97"),_.required=!0,W(_,"id","email"),W(_,"type","email"),W($,"class","formData svelte-1njez97"),W(q,"value",t[2]),W(I,"class","btn right svelte-1njez97"),W(I,"type","submit"),I.value="Send",W(o,"class","svelte-1njez97")},m(l,w){var x;v(l,e,w),v(l,n,w),v(l,s,w),v(l,i,w),v(l,o,w),b(o,r),b(r,c),b(r,a),b(r,u),B(u,t[3].firstName),b(o,d),b(o,f),b(f,h),b(f,p),b(f,g),B(g,t[3].lastName),b(o,m),b(o,$),b($,y),b($,k),b($,_),B(_,t[3].email),b(o,S),b(o,q),b(o,M),b(o,I),z||(E=[N(u,"input",t[10]),N(g,"input",t[11]),N(_,"input",t[12]),N(o,"submit",(x=t[5],function(t){return t.preventDefault(),x.call(this,t)}))],z=!0)},p(t,e){8&e&&u.value!==t[3].firstName&&B(u,t[3].firstName),8&e&&g.value!==t[3].lastName&&B(g,t[3].lastName),8&e&&_.value!==t[3].email&&B(_,t[3].email),4&e&&W(q,"value",t[2])},d(t){t&&w(e),t&&w(n),t&&w(s),t&&w(i),t&&w(o),z=!1,l(E)}}}function un(t){let e,n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S=Math.round(.621371*t[0]*100)/100+"";return{c(){e=x("div"),n=x("h1"),n.textContent="🎉 Congratulations 🍾",s=C(),i=x("p"),i.textContent="Your speed is",l=C(),o=x("p"),r=x("span"),c=_(t[0]),a=_(" km/h"),u=C(),d=x("p"),f=x("span"),h=_("("),p=_(S),g=_("mph)"),m=C(),$=x("button"),$.textContent="Save your result",W(n,"class","svelte-1njez97"),W(r,"class","speed svelte-1njez97"),W(f,"class","mph svelte-1njez97"),W(e,"id","result"),W($,"class","btn svelte-1njez97")},m(w,x){v(w,e,x),b(e,n),b(e,s),b(e,i),b(e,l),b(e,o),b(o,r),b(r,c),b(r,a),b(e,u),b(e,d),b(d,f),b(f,h),b(f,p),b(f,g),v(w,m,x),v(w,$,x),y||(k=N($,"click",t[4]),y=!0)},p(t,e){1&e&&I(c,t[0]),1&e&&S!==(S=Math.round(.621371*t[0]*100)/100+"")&&I(p,S)},d(t){t&&w(e),t&&w(m),t&&w($),y=!1,k()}}}function dn(e){let n;function s(t,e){return 0===t[1]?un:1===t[1]?an:cn}let i=s(e),l=i(e);return{c(){n=x("section"),l.c()},m(t,e){v(t,n,e),l.m(n,null)},p(t,[e]){i===(i=s(t))&&l?l.p(t,e):(l.d(1),l=i(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&w(n),l.d()}}}function fn(t,e,n){U();let{speed:s}=e,{power:i}=e,{bikeName:l}=e,{config:o}=e,{userConfig:r}=e,c=0,a="";const u=()=>{n(1,c++,c)};let d;return H(()=>n(3,d=new rn(s,i,o,r,l))),t.$set=t=>{"speed"in t&&n(0,s=t.speed),"power"in t&&n(6,i=t.power),"bikeName"in t&&n(7,l=t.bikeName),"config"in t&&n(8,o=t.config),"userConfig"in t&&n(9,r=t.userConfig)},[s,c,a,d,u,function(){console.log(d),fetch("https://www.policumbent.it/whpsc_sim_backend/upload_result.php",{method:"POST",body:JSON.stringify(d)}).then(t=>{200===t.status&&u(),console.log(t)}).catch(t=>n(2,a=t))},i,l,o,r,function(){d.firstName=this.value,n(3,d)},function(){d.lastName=this.value,n(3,d)},function(){d.email=this.value,n(3,d)}]}class hn extends _t{constructor(t){super(),kt(this,t,fn,dn,r,{speed:0,power:6,bikeName:7,config:8,userConfig:9})}}class pn extends class{constructor(){this.listeners={},this.listeners={},this.timeoutID=void 0,this.milliTimeout=8e3}clearValueOnTimeout(t){void 0!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{if(this.timeoutID=void 0,t.constructor===Array)for(let e of t)this.dispatch(0);else this.dispatch(0)},this.milliTimeout)}}{constructor(t,e,n,s){super(),this.device=t,this.server=e,this.service=n,this.characteristic=s,this.name=this.device.name,this.id=this.device.id,this.listening=!1,this.device.addEventListener("gattserverdisconnected",t=>{this.gattServerDisconnected(t).catch(t=>{console.log("Error: ",t)})})}async gattServerDisconnected(t){console.log("Reconnecting"),this.server=await this.device.gatt.connect(),this.service=await this.server.getPrimaryService(this.serviceId),this.characteristic=await this.service.getCharacteristic(this.characteristicId),this.listening&&(this.listening=!1,this.listen())}}class gn extends pn{constructor(t,e,n,s){super(t,e,n,s),this.serviceId=6157,this.characteristicId=10807}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=t.target.value.getUint8(1);console.log(e),this.dispatch(e),this.clearValueOnTimeout("hr")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("hr "+t),he.set(t)}}class mn extends class{getData(t){let e,n=0;16===this.mask_size?(e=t.getUint16(0,!0),n+=2):(e=t.getUint8(0),n+=1);let s=[];if(0===this.fields[0][0])for(let t of this.fields[0][1])s.push(t);for(let[t,n]of this.fields)if(e&t)for(let t of n)s.push(t);let i={};for(let e of s){var[[l,o,r],c]=e;let s;s=r?t[l](n,r):t[l](n),i[c]=s,n+=o}return i}}{constructor(){super(),this.fields=vn,this.mask_size=16}}const $n=["getInt16",2,!0],bn=["getUint16",2,!0],vn=[[0,[[$n,"instantaneous_power"]]],[1,[[["getUint8",1],"pedal_power_balance"]]],[2,[]],[4,[[bn,"accumulated_torque"]]],[8,[]],[16,[[["getUint32",4,!0],"cumulative_wheel_revolutions"],[bn,"last_wheel_event_time"]]],[32,[[bn,"cumulative_crank_revolutions"],[bn,"last_crank_event_time"]]],[64,[[$n,"maximum_force_magnitude"],[$n,"minimum_force_magnitude"]]],[128,[[$n,"maximum_torque_magnitude"],[$n,"minimum_torque_magnitude"]]],[256,[[["getUint8",3],"maximum_minimum_angle"]]],[512,[[bn,"top_dead_spot_angle"]]],[1024,[[bn,"bottom_dead_spot_angle"]]],[2048,[[bn,"accumulated_energy"]]],[4096,[]]];class wn extends pn{constructor(t,e,n,s){super(t,e,n,s),this.serviceId=6168,this.characteristicId=10851,this.parser=new mn}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=this.parser.getData(t.target.value).instantaneous_power;this.dispatch(e),this.clearValueOnTimeout("power")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("power "+t),pe.set(t)}}let yn,xn;function kn(e){let n,s,i,l,o,r,c,a,u,d,f,h,p=e[0].bikeName+"",g=e[0].description+"";return{c(){n=x("div"),s=x("label"),i=_(p),l=C(),o=x("img"),a=C(),u=x("p"),d=_(g),W(s,"class","svelte-188kdbq"),W(o,"class","image svelte-188kdbq"),o.src!==(r=e[0].imgSrc)&&W(o,"src",r),W(o,"alt",c=e[0].bikeName+" image"),W(u,"class","svelte-188kdbq"),W(n,"class","container svelte-188kdbq")},m(t,r){v(t,n,r),b(n,s),b(s,i),b(n,l),b(n,o),b(n,a),b(n,u),b(u,d),f||(h=N(n,"click",e[1]),f=!0)},p(t,[e]){1&e&&p!==(p=t[0].bikeName+"")&&I(i,p),1&e&&o.src!==(r=t[0].imgSrc)&&W(o,"src",r),1&e&&c!==(c=t[0].bikeName+" image")&&W(o,"alt",c),1&e&&g!==(g=t[0].description+"")&&I(d,g)},i:t,o:t,d(t){t&&w(n),f=!1,h()}}}function _n(t,e,n){let{bike:s}=e;return t.$set=t=>{"bike"in t&&n(0,s=t.bike)},[s,function(e){G(t,e)}]}class Cn extends _t{constructor(t){super(),kt(this,t,_n,kn,r,{bike:0})}}function Sn(t,e,n){const s=t.slice();return s[7]=e[n],s}function Nn(t){let e,n;return e=new Cn({props:{bike:t[7]}}),e.$on("click",(function(...e){return t[2](t[7],...e)})),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(n,s){t=n;const i={};1&s&&(i.bike=t[7]),e.$set(i)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Wn(t){let e,n,s,i,l,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Nn(Sn(t,o,e));const c=t=>ht(r[t],1,1,()=>{r[t]=null});return{c(){e=x("div"),n=x("div");for(let t=0;t<r.length;t+=1)r[t].c();W(n,"class","content svelte-ux39qb"),W(e,"class","back svelte-ux39qb")},m(o,c){v(o,e,c),b(e,n);for(let t=0;t<r.length;t+=1)r[t].m(n,null);s=!0,i||(l=N(e,"click",t[3]),i=!0)},p(t,[e]){if(3&e){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=Sn(t,o,s);r[s]?(r[s].p(i,e),ft(r[s],1)):(r[s]=Nn(i),r[s].c(),ft(r[s],1),r[s].m(n,null))}for(ut(),s=o.length;s<r.length;s+=1)c(s);dt()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)ft(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ht(r[t]);s=!1},d(t){t&&w(e),y(r,t),i=!1,l()}}}function qn(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,l){function o(t){try{c(s.next(t))}catch(t){l(t)}}function r(t){try{c(s.throw(t))}catch(t){l(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,r)}c((s=s.apply(t,e||[])).next())}))};const i=U(),l=new fe("Custom","img/gear.svg","Your custom settings",be());let o=[new fe("Taurus","img/taurus.svg","A very fast streamliner",new ue(30,.09,1.45,.96,.29,.04,"coefficients4.json")),new fe("Coral","img/recumbent.svg","A recumbent bike",new ue(14,.091,1.45,.97,.32,.6,"coefficients_normal_bike.json")),new fe("Road Bike","img/normal.svg","A road bike",new ue(7.5,.0786,2.105,.98,.43,.78,"coefficients_normal_bike.json"))];function r(t){console.log(t),i("message",{text:t})}H(()=>s(void 0,void 0,void 0,(function*(){n(0,o=function(t){let e,n=[],s=t.length;for(;s;)e=Math.floor(Math.random()*t.length),e in t&&(n.push(t[e]),delete t[e],s--);return n}(o)),o.push(l)})));return[o,r,t=>r(t),()=>r(null)]}class Mn extends _t{constructor(t){super(),kt(this,t,qn,Wn,r,{})}}function In(t){let e,n,s,i,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,q,M,z,E,O,j,P,D,R,T,A,L,H,U,F,Y,G,V,J,K,Z,X,Q,et,nt,st,it,lt,ot,rt,ct,at,ut,dt,ft,ht,pt,mt,$t,bt,vt,wt,yt,xt,kt,_t,Ct,St,Nt,Wt,qt,Mt,It,Bt,zt,Et,Ot,jt,Pt,Dt,Rt,Tt,At;return{c(){e=x("nav"),n=x("div"),s=x("label"),s.textContent="Your settings:",i=C(),o=x("label"),r=_("Rider weight: "),c=_(t[2]),a=_("kg"),u=C(),d=x("input"),f=C(),h=x("label"),p=_("Rider height: "),g=_(t[10]),m=_("cm"),$=C(),y=x("input"),k=C(),S=x("label"),q=_("Air Density: "),M=_(t[7]),z=C(),E=x("input"),O=C(),j=x("hr"),P=C(),D=x("div"),R=x("label"),R.textContent="Your custom streamliner settings:",T=C(),A=x("label"),L=_("Bike weight: "),H=_(t[1]),U=_("kg"),F=C(),Y=x("input"),G=C(),V=x("label"),J=_("Wheels Inertia: "),K=_(t[3]),Z=C(),X=x("input"),Q=C(),et=x("label"),nt=_("Efficiency: "),st=_(t[5]),it=C(),lt=x("input"),ot=C(),rt=x("label"),ct=_("Wheels Circumference: "),at=_(t[4]),ut=_("m"),dt=C(),ft=x("input"),ht=C(),pt=x("label"),mt=_("Area: "),$t=_(t[6]),bt=_("m²"),vt=C(),wt=x("input"),yt=C(),xt=x("label"),kt=_("Cd @120km/h: "),_t=_(t[9]),Ct=C(),St=x("input"),Nt=C(),Wt=x("hr"),qt=C(),Mt=x("div"),It=x("label"),It.textContent="Software settings:",Bt=C(),zt=x("label"),zt.textContent="Debug:",Et=C(),Ot=x("input"),jt=C(),Pt=x("button"),Pt.textContent="Save",W(s,"class","group_label svelte-1bgpqn1"),W(o,"for","rider_weight"),W(d,"class","slider svelte-1bgpqn1"),W(d,"id","rider_weight"),W(d,"type","range"),W(d,"step","0.5"),W(d,"min","40"),W(d,"max","100"),W(h,"for","rider_height"),W(y,"class","slider svelte-1bgpqn1"),W(y,"id","rider_height"),W(y,"type","range"),W(y,"step","1"),W(y,"min","100"),W(y,"max","250"),W(S,"for","air_density"),W(E,"class","slider svelte-1bgpqn1"),W(E,"id","air_density"),W(E,"type","range"),W(E,"step","0.0001"),W(E,"min","0.8"),W(E,"max","1.2"),W(n,"class","sliders_div svelte-1bgpqn1"),W(j,"class","solid svelte-1bgpqn1"),W(R,"class","group_label svelte-1bgpqn1"),W(A,"for","bike_weight"),W(Y,"class","slider svelte-1bgpqn1"),W(Y,"id","bike_weight"),W(Y,"type","range"),W(Y,"min","1"),W(Y,"max","200"),W(V,"for","wheels_inertia"),W(X,"class","slider svelte-1bgpqn1"),W(X,"id","wheels_inertia"),W(X,"type","range"),W(X,"step","0.001"),W(X,"min","0.001"),W(X,"max","0.1"),W(et,"for","efficiency"),W(lt,"class","slider svelte-1bgpqn1"),W(lt,"id","efficiency"),W(lt,"type","range"),W(lt,"step","0.01"),W(lt,"min","0.8"),W(lt,"max","1"),W(rt,"for","wheels_circumference"),W(ft,"class","slider svelte-1bgpqn1"),W(ft,"id","wheels_circumference"),W(ft,"type","range"),W(ft,"step","0.001"),W(ft,"min","1"),W(ft,"max","2.5"),W(pt,"for","area"),W(wt,"class","slider svelte-1bgpqn1"),W(wt,"id","area"),W(wt,"type","range"),W(wt,"step","0.00001"),W(wt,"min","0"),W(wt,"max","2"),W(xt,"for","cx"),W(St,"class","slider svelte-1bgpqn1"),W(St,"id","cx"),W(St,"type","range"),W(St,"step","0.0001"),W(St,"min","0.02"),W(St,"max","1.2"),W(D,"class","sliders_div svelte-1bgpqn1"),W(Wt,"class","solid svelte-1bgpqn1"),W(It,"class","group_label svelte-1bgpqn1"),W(zt,"class","checkbox svelte-1bgpqn1"),W(zt,"for","debug"),W(Ot,"class","checkbox svelte-1bgpqn1"),W(Ot,"id","debug"),W(Ot,"type","checkbox"),W(Mt,"class","sliders_div svelte-1bgpqn1"),W(Pt,"class","svelte-1bgpqn1"),W(e,"class","svelte-1bgpqn1")},m(l,w){v(l,e,w),b(e,n),b(n,s),b(n,i),b(n,o),b(o,r),b(o,c),b(o,a),b(n,u),b(n,d),B(d,t[2]),b(n,f),b(n,h),b(h,p),b(h,g),b(h,m),b(n,$),b(n,y),B(y,t[10]),b(n,k),b(n,S),b(S,q),b(S,M),b(n,z),b(n,E),B(E,t[7]),b(e,O),b(e,j),b(e,P),b(e,D),b(D,R),b(D,T),b(D,A),b(A,L),b(A,H),b(A,U),b(D,F),b(D,Y),B(Y,t[1]),b(D,G),b(D,V),b(V,J),b(V,K),b(D,Z),b(D,X),B(X,t[3]),b(D,Q),b(D,et),b(et,nt),b(et,st),b(D,it),b(D,lt),B(lt,t[5]),b(D,ot),b(D,rt),b(rt,ct),b(rt,at),b(rt,ut),b(D,dt),b(D,ft),B(ft,t[4]),b(D,ht),b(D,pt),b(pt,mt),b(pt,$t),b(pt,bt),b(D,vt),b(D,wt),B(wt,t[6]),b(D,yt),b(D,xt),b(xt,kt),b(xt,_t),b(D,Ct),b(D,St),B(St,t[9]),b(e,Nt),b(e,Wt),b(e,qt),b(e,Mt),b(Mt,It),b(Mt,Bt),b(Mt,zt),b(Mt,Et),b(Mt,Ot),Ot.checked=t[8],b(e,jt),b(e,Pt),Rt=!0,Tt||(At=[N(d,"change",t[12]),N(d,"input",t[12]),N(y,"change",t[13]),N(y,"input",t[13]),N(E,"change",t[14]),N(E,"input",t[14]),N(Y,"change",t[15]),N(Y,"input",t[15]),N(X,"change",t[16]),N(X,"input",t[16]),N(lt,"change",t[17]),N(lt,"input",t[17]),N(ft,"change",t[18]),N(ft,"input",t[18]),N(wt,"change",t[19]),N(wt,"input",t[19]),N(St,"change",t[20]),N(St,"input",t[20]),N(Ot,"change",t[21]),N(Pt,"click",t[11])],Tt=!0)},p(t,e){(!Rt||4&e)&&I(c,t[2]),4&e&&B(d,t[2]),(!Rt||1024&e)&&I(g,t[10]),1024&e&&B(y,t[10]),(!Rt||128&e)&&I(M,t[7]),128&e&&B(E,t[7]),(!Rt||2&e)&&I(H,t[1]),2&e&&B(Y,t[1]),(!Rt||8&e)&&I(K,t[3]),8&e&&B(X,t[3]),(!Rt||32&e)&&I(st,t[5]),32&e&&B(lt,t[5]),(!Rt||16&e)&&I(at,t[4]),16&e&&B(ft,t[4]),(!Rt||64&e)&&I($t,t[6]),64&e&&B(wt,t[6]),(!Rt||512&e)&&I(_t,t[9]),512&e&&B(St,t[9]),256&e&&(Ot.checked=t[8])},i(t){Rt||(tt(()=>{Dt||(Dt=gt(e,te,{x:250,opacity:1},!0)),Dt.run(1)}),Rt=!0)},o(t){Dt||(Dt=gt(e,te,{x:250,opacity:1},!1)),Dt.run(0),Rt=!1},d(t){t&&w(e),t&&Dt&&Dt.end(),Tt=!1,l(At)}}}function Bn(t){let e,n,s=t[0]&&In(t);return{c(){s&&s.c(),e=S()},m(t,i){s&&s.m(t,i),v(t,e,i),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&ft(s,1)):(s=In(t),s.c(),ft(s,1),s.m(e.parentNode,e)):s&&(ut(),ht(s,1,1,()=>{s=null}),dt())},i(t){n||(ft(s),n=!0)},o(t){ht(s),n=!1},d(t){s&&s.d(t),t&&w(e)}}}function zn(t,e,n){let s,i,l,o,r,c,a,u,d,f,h,p,{show:g=!1}=e,m=!1;return H(()=>{s=be(),i=ve(),m=$e(),n(1,l=s.bikeWeight),n(2,o=i.riderWeight),n(10,p=i.riderHeight),n(3,r=s.wheelsInertia),n(4,c=s.wheelsCircumference),n(5,a=s.efficiency),n(6,u=s.area),n(7,d=i.rho),n(9,h=s.cx),n(8,f=m)}),t.$set=t=>{"show"in t&&n(0,g=t.show)},[g,l,o,r,c,a,u,d,f,h,p,function(){var t;t=new ue(l,r,c,a,u,h,"coefficients4.json"),localStorage.setItem("bike_settings",JSON.stringify(t)),(t=>{localStorage.setItem("debug",t)})(f),(t=>{localStorage.setItem("user_settings",JSON.stringify(t))})(new de(o,p,d)),n(0,g=!1),f!==m&&window.location.reload()},function(){o=M(this.value),n(2,o)},function(){p=M(this.value),n(10,p)},function(){d=M(this.value),n(7,d)},function(){l=M(this.value),n(1,l)},function(){r=M(this.value),n(3,r)},function(){a=M(this.value),n(5,a)},function(){c=M(this.value),n(4,c)},function(){u=M(this.value),n(6,u)},function(){h=M(this.value),n(9,h)},function(){f=this.checked,n(8,f)}]}class En extends _t{constructor(t){super(),kt(this,t,zn,Bn,r,{show:0})}}function On(t){let e;function n(t,e){return t[1]>550?Pn:jn}let s=n(t),i=s(t);return{c(){e=x("table"),i.c(),W(e,"class","svelte-b2kukf")},m(t,n){v(t,e,n),i.m(e,null)},p(t,l){s===(s=n(t))&&i?i.p(t,l):(i.d(1),i=s(t),i&&(i.c(),i.m(e,null)))},d(t){t&&w(e),i.d()}}}function jn(t){let e,n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,N,q,M,B,z,E,O,j,P,D,R,T,A,L,H,U,F,Y,G,V,J,K,Z,X,Q=t[0].bikeSettings.bikeWeight+"",tt=t[0].bikeSettings.wheelsInertia+"",et=t[0].bikeSettings.wheelsCircumference+"",nt=t[0].bikeSettings.efficiency+"",st=t[0].bikeSettings.area+"",it=t[0].userSettings.rho+"",lt=t[0].bikeSettings.cx+"";return{c(){e=x("tr"),n=x("th"),n.textContent="Bike Weight",s=C(),i=x("td"),l=_(Q),o=_("kg"),r=C(),c=x("tr"),a=x("th"),a.textContent="Wheels Inertia",u=C(),d=x("td"),f=_(tt),h=C(),p=x("tr"),g=x("th"),g.textContent="Wheels Circumference",m=C(),$=x("td"),y=_(et),k=_("m"),S=C(),N=x("tr"),q=x("th"),q.textContent="Efficiency",M=C(),B=x("td"),z=_(nt),E=C(),O=x("tr"),j=x("th"),j.textContent="Area",P=C(),D=x("td"),R=_(st),T=_("m²"),A=C(),L=x("tr"),H=x("th"),H.textContent="Rho",U=C(),F=x("td"),Y=_(it),G=C(),V=x("tr"),J=x("th"),J.textContent="Cd@120km/h",K=C(),Z=x("td"),X=_(lt),W(n,"class","svelte-b2kukf"),W(a,"class","svelte-b2kukf"),W(g,"class","svelte-b2kukf"),W(q,"class","svelte-b2kukf"),W(j,"class","svelte-b2kukf"),W(H,"class","svelte-b2kukf"),W(J,"class","svelte-b2kukf")},m(t,w){v(t,e,w),b(e,n),b(e,s),b(e,i),b(i,l),b(i,o),v(t,r,w),v(t,c,w),b(c,a),b(c,u),b(c,d),b(d,f),v(t,h,w),v(t,p,w),b(p,g),b(p,m),b(p,$),b($,y),b($,k),v(t,S,w),v(t,N,w),b(N,q),b(N,M),b(N,B),b(B,z),v(t,E,w),v(t,O,w),b(O,j),b(O,P),b(O,D),b(D,R),b(D,T),v(t,A,w),v(t,L,w),b(L,H),b(L,U),b(L,F),b(F,Y),v(t,G,w),v(t,V,w),b(V,J),b(V,K),b(V,Z),b(Z,X)},p(t,e){1&e&&Q!==(Q=t[0].bikeSettings.bikeWeight+"")&&I(l,Q),1&e&&tt!==(tt=t[0].bikeSettings.wheelsInertia+"")&&I(f,tt),1&e&&et!==(et=t[0].bikeSettings.wheelsCircumference+"")&&I(y,et),1&e&&nt!==(nt=t[0].bikeSettings.efficiency+"")&&I(z,nt),1&e&&st!==(st=t[0].bikeSettings.area+"")&&I(R,st),1&e&&it!==(it=t[0].userSettings.rho+"")&&I(Y,it),1&e&&lt!==(lt=t[0].bikeSettings.cx+"")&&I(X,lt)},d(t){t&&w(e),t&&w(r),t&&w(c),t&&w(h),t&&w(p),t&&w(S),t&&w(N),t&&w(E),t&&w(O),t&&w(A),t&&w(L),t&&w(G),t&&w(V)}}}function Pn(t){let e,n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,N,W,q,M,B,z,E=t[0].bikeSettings.bikeWeight+"",O=t[0].bikeSettings.wheelsInertia+"",j=t[0].bikeSettings.wheelsCircumference+"",P=t[0].bikeSettings.efficiency+"",D=t[0].bikeSettings.area+"",R=t[0].userSettings.rho+"",T=t[0].bikeSettings.cx+"";return{c(){e=x("tr"),e.innerHTML='<th class="svelte-b2kukf">Bike Weight</th> \n            <th class="svelte-b2kukf">Wheels Inertia</th> \n            <th class="svelte-b2kukf">Wheels Circumference</th> \n            <th class="svelte-b2kukf">Efficiency</th> \n            <th class="svelte-b2kukf">Area</th> \n            <th class="svelte-b2kukf">Rho</th> \n            <th class="svelte-b2kukf">Cd@120km/h</th>',n=C(),s=x("tr"),i=x("td"),l=_(E),o=_("kg"),r=C(),c=x("td"),a=_(O),u=C(),d=x("td"),f=_(j),h=_("m"),p=C(),g=x("td"),m=_(P),$=C(),y=x("td"),k=_(D),S=_("m²"),N=C(),W=x("td"),q=_(R),M=C(),B=x("td"),z=_(T)},m(t,w){v(t,e,w),v(t,n,w),v(t,s,w),b(s,i),b(i,l),b(i,o),b(s,r),b(s,c),b(c,a),b(s,u),b(s,d),b(d,f),b(d,h),b(s,p),b(s,g),b(g,m),b(s,$),b(s,y),b(y,k),b(y,S),b(s,N),b(s,W),b(W,q),b(s,M),b(s,B),b(B,z)},p(t,e){1&e&&E!==(E=t[0].bikeSettings.bikeWeight+"")&&I(l,E),1&e&&O!==(O=t[0].bikeSettings.wheelsInertia+"")&&I(a,O),1&e&&j!==(j=t[0].bikeSettings.wheelsCircumference+"")&&I(f,j),1&e&&P!==(P=t[0].bikeSettings.efficiency+"")&&I(m,P),1&e&&D!==(D=t[0].bikeSettings.area+"")&&I(k,D),1&e&&R!==(R=t[0].userSettings.rho+"")&&I(q,R),1&e&&T!==(T=t[0].bikeSettings.cx+"")&&I(z,T)},d(t){t&&w(e),t&&w(n),t&&w(s)}}}function Dn(e){let n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,q,M,B,E,O,j,P=Math.trunc(e[0].speed)+"",D=Math.round(100*(e[0].speed-Math.trunc(e[0].speed)))+"",R=e[0].bikeName+"",T=e[0].firstName+"",A=e[0].lastName+"",L=e[0].time+"",H=e[0].date+"",U=e[0].expanded&&On(e);return{c(){n=x("div"),s=x("div"),i=x("div"),l=x("span"),o=x("em"),r=_(P),c=_("\n        ."),a=_(D),u=_(" km/h"),d=C(),f=x("span"),h=_(R),p=C(),g=x("span"),m=_(T),$=C(),y=_(A),k=C(),U&&U.c(),S=C(),q=x("span"),M=_(L),B=C(),E=_(H),W(o,"class","big svelte-b2kukf"),W(l,"class","middle_top svelte-b2kukf"),W(f,"class","middle_bottom svelte-b2kukf"),W(i,"class","left30 svelte-b2kukf"),W(g,"class","top right svelte-b2kukf"),W(q,"class","right bottom svelte-b2kukf"),W(s,"class","container svelte-b2kukf"),z(s,"--div-height",e[2])},m(t,w){v(t,n,w),b(n,s),b(s,i),b(i,l),b(l,o),b(o,r),b(l,c),b(l,a),b(l,u),b(i,d),b(i,f),b(f,h),b(s,p),b(s,g),b(g,m),b(g,$),b(g,y),b(s,k),U&&U.m(s,null),b(s,S),b(s,q),b(q,M),b(q,B),b(q,E),O||(j=N(s,"click",e[3]),O=!0)},p(t,[e]){1&e&&P!==(P=Math.trunc(t[0].speed)+"")&&I(r,P),1&e&&D!==(D=Math.round(100*(t[0].speed-Math.trunc(t[0].speed)))+"")&&I(a,D),1&e&&R!==(R=t[0].bikeName+"")&&I(h,R),1&e&&T!==(T=t[0].firstName+"")&&I(m,T),1&e&&A!==(A=t[0].lastName+"")&&I(y,A),t[0].expanded?U?U.p(t,e):(U=On(t),U.c(),U.m(s,S)):U&&(U.d(1),U=null),1&e&&L!==(L=t[0].time+"")&&I(M,L),1&e&&H!==(H=t[0].date+"")&&I(E,H),4&e&&z(s,"--div-height",t[2])},i:t,o:t,d(t){t&&w(n),U&&U.d(),O=!1,j()}}}function Rn(t,e,n){let{result:s}=e,i=window.innerWidth<550?"150px":"100px",l=window.innerWidth<550?"330px":"200px",o=window.innerWidth;window.onresize=function(){n(4,i=window.innerWidth<550?"150px":"100px"),n(5,l=window.innerWidth<550?"330px":"200px"),n(1,o=window.innerWidth),n(2,r=s.expanded?l:i),console.log(i)};let r=s.expanded?l:i;return t.$set=t=>{"result"in t&&n(0,s=t.result)},t.$$.update=()=>{49&t.$$.dirty&&n(2,r=s.expanded?l:i),4&t.$$.dirty&&console.log("H:",r)},[s,o,r,function(e){G(t,e)}]}class Tn extends _t{constructor(t){super(),kt(this,t,Rn,Dn,r,{result:0})}}function An(t,e,n){const s=t.slice();return s[3]=e[n],s}function Ln(t){let e,n;return e=new Tn({props:{result:t[3]}}),e.$on("click",(function(...e){return t[2](t[3],...e)})),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(n,s){t=n;const i={};1&s&&(i.result=t[3]),e.$set(i)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Hn(t){let e,n,s,i,l,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Ln(An(t,o,e));const c=t=>ht(r[t],1,1,()=>{r[t]=null});return{c(){e=x("div"),n=x("h1"),n.textContent="Results",s=C(),i=x("div");for(let t=0;t<r.length;t+=1)r[t].c();W(n,"class","svelte-iun13g"),W(i,"class","scroller svelte-iun13g"),W(e,"class","container svelte-iun13g")},m(t,o){v(t,e,o),b(e,n),b(e,s),b(e,i);for(let t=0;t<r.length;t+=1)r[t].m(i,null);l=!0},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const s=An(t,o,n);r[n]?(r[n].p(s,e),ft(r[n],1)):(r[n]=Ln(s),r[n].c(),ft(r[n],1),r[n].m(i,null))}for(ut(),n=o.length;n<r.length;n+=1)c(n);dt()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)ft(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ht(r[t]);l=!1},d(t){t&&w(e),y(r,t)}}}function Un(t,e,n){const s=t=>{const e=t.expanded;i.forEach(t=>t.expanded=!1),t.expanded=!e,n(0,i=[...i])};let i=[];H(()=>{fetch("https://www.policumbent.it/whpsc_sim_backend/results.php",{cache:"no-store"}).then(t=>t.json()).then(t=>{let e=[];return t.forEach(t=>{const n=new ue(t.bikeSettings.bikeWeight,t.bikeSettings.wheelsInertia,t.bikeSettings.wheelsCircumference,t.bikeSettings.efficiency,t.bikeSettings.area,t.bikeSettings.cx,void 0),s=new de(void 0,void 0,t.bikeSettings.rho);e.push(new rn(t.speed,n.power,n,s,t.bikeName,t.firstName,t.lastName,"",t.timestamp))}),n(0,i=e.sort((t,e)=>e.datetime.getTime()-t.datetime.getTime())),e[0].expanded=!0,e})});return[i,s,t=>s(t)]}class Fn extends _t{constructor(t){super(),kt(this,t,Un,Hn,r,{})}}function Yn(e){let n,s=e[1]()+"";return{c(){n=_(s)},m(t,e){v(t,n,e)},p:t,d(t){t&&w(n)}}}function Gn(e){let n,s=e[0]&&Yn(e);return{c(){s&&s.c(),n=S()},m(t,e){s&&s.m(t,e),v(t,n,e)},p(t,[e]){t[0]?s?s.p(t,e):(s=Yn(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&w(n)}}}function Vn(t,e,n){const{open:s}=Y("simple-modal");let{show:i}=e;return t.$set=t=>{"show"in t&&n(0,i=t.show)},[i,function(){s(Fn,{},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!1}),n(0,i=!1)}]}class Jn extends _t{constructor(t){super(),kt(this,t,Vn,Gn,r,{show:0})}}function Kn(e){let n,s;return n=new Mn({}),n.$on("message",e[6]),{c(){vt(n.$$.fragment)},m(t,e){wt(n,t,e),s=!0},p:t,i(t){s||(ft(n.$$.fragment,t),s=!0)},o(t){ht(n.$$.fragment,t),s=!1},d(t){yt(n,t)}}}function Zn(t){let e,n,s;function i(e){t[10].call(null,e)}let l={};return void 0!==t[2]&&(l.show=t[2]),e=new Jn({props:l}),J.push(()=>bt(e,"show",i)),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,s){const i={};!n&&4&s&&(n=!0,i.show=t[2],et(()=>n=!1)),e.$set(i)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Xn(t){let e,n,s,i,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,q,M,I,B,z;function E(e){t[8].call(null,e)}let O={};void 0!==t[0]&&(O.show=t[0]),e=new En({props:O}),J.push(()=>bt(e,"show",E)),a=new Jt({props:{class:"top-right-fixed",data:Zt,scale:"2"}});let j=t[1]&&Kn(t);return S=new re({props:{$$slots:{default:[Zn]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment),s=C(),i=x("section"),o=x("h1"),o.textContent="WHPSC Simulator",r=C(),c=x("span"),vt(a.$$.fragment),u=C(),d=x("button"),f=_("Start"),p=C(),g=x("button"),g.textContent="Search powermeter",m=C(),j&&j.c(),$=C(),y=x("button"),y.textContent="Results",k=C(),vt(S.$$.fragment),q=C(),M=x("button"),M.textContent="Survey",W(o,"class","svelte-5rhwfh"),W(c,"class","top-right-fixed click_t svelte-5rhwfh"),W(d,"class","btn svelte-5rhwfh"),d.disabled=h=!t[3]&&!$e(),W(g,"class","btn svelte-5rhwfh"),W(y,"class","btn results svelte-5rhwfh"),W(M,"class","survey btn svelte-5rhwfh"),W(i,"class","svelte-5rhwfh")},m(n,l){wt(e,n,l),v(n,s,l),v(n,i,l),b(i,o),b(i,r),b(i,c),wt(a,c,null),b(i,u),b(i,d),b(d,f),b(i,p),b(i,g),b(i,m),j&&j.m(i,null),b(i,$),b(i,y),b(i,k),wt(S,i,null),b(i,q),b(i,M),I=!0,B||(z=[N(c,"click",t[9]),N(d,"click",t[4]),N(g,"click",t[7]),N(y,"click",t[5]),N(M,"click",t[11])],B=!0)},p(t,[s]){const l={};!n&&1&s&&(n=!0,l.show=t[0],et(()=>n=!1)),e.$set(l),(!I||8&s&&h!==(h=!t[3]&&!$e()))&&(d.disabled=h),t[1]?j?(j.p(t,s),2&s&&ft(j,1)):(j=Kn(t),j.c(),ft(j,1),j.m(i,$)):j&&(ut(),ht(j,1,1,()=>{j=null}),dt());const o={};8196&s&&(o.$$scope={dirty:s,ctx:t}),S.$set(o)},i(t){I||(ft(e.$$.fragment,t),ft(a.$$.fragment,t),ft(j),ft(S.$$.fragment,t),I=!0)},o(t){ht(e.$$.fragment,t),ht(a.$$.fragment,t),ht(j),ht(S.$$.fragment,t),I=!1},d(t){yt(e,t),t&&w(s),t&&w(i),yt(a),j&&j.d(),yt(S),B=!1,l(z)}}}function Qn(t,e,n){const s=U();let i=!1,l=!1,o=!1,r=!1;return[i,l,o,r,function(){n(1,l=!0)},function(){n(2,o=!0)},function(t){n(1,l=!1),null!=t.detail.text&&(console.log(t.detail.text),s("message",{text:t.detail.text}))},function(){(async function(){console.log("Requesting Bluetooth Device...");let t=await navigator.bluetooth.requestDevice({filters:[{services:[6157]},{services:[6168]}]}),e=await t.gatt.connect();console.log(t),console.log(e);let n=void 0,s=void 0;try{s=await e.getPrimaryService(6168)}catch(t){console.log(t)}if(s){let i=await s.getCharacteristic(10851);n=new wn(t,e,s,i),console.log(n),yn=n,n.listen()}s=void 0;try{s=await e.getPrimaryService(6157)}catch(t){console.log(t)}if(s){let i=await s.getCharacteristic(10807);n=new gn(t,e,s,i),xn=n,console.log(n),n.listen()}return void 0!==yn||void 0!==xn})().then(t=>n(3,r=t)).catch(t=>{alert('This functionality is available only in Google Chrome 83+. If you are already using it on Linux the "chrome://flags/#enable-experimental-web-platform-features" flag must be enabled.For further information read this page https://github.com/WebBluetoothCG/web-bluetooth/blob/gh-pages/implementation-status.md'),console.log(t),n(3,r=!1)})},function(t){i=t,n(0,i)},()=>n(0,i=!i),function(t){o=t,n(2,o)},()=>window.open("https://forms.gle/hK2XADnP4FkvjtmD7","_blank")]}class ts extends _t{constructor(t){super(),kt(this,t,Qn,Xn,r,{})}}function es(t,e,n){const{open:s}=Y("simple-modal");return[(t,e,n,i,l)=>{console.log("CONFIG:",i),s(hn,{speed:t,power:e,bikeName:n,config:i,userConfig:l},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!1})}]}class ns extends _t{constructor(t){super(),kt(this,t,es,null,r,{openModal:0})}get openModal(){return this.$$.ctx[0]}}function ss(t){let e,n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y,k,S,q,M,B,z,E,O,j,P,D,R,T,A,L,H,U,F,Y,G,V,J,K,Z,X,Q,tt,et,nt,st,it,lt,ot,rt,ct,at,ut,dt,pt,gt,mt,$t,bt,xt,kt,_t,Ct,St,Nt,Wt,qt,Mt,It,Bt,zt,Et,Ot,jt,Pt,Dt,Rt,Tt,At,Lt,Ht,Ut,Ft,Yt,Gt,Vt,Jt,Kt,Zt=t[0].firstName+"",Xt=t[0].lastName+"",Qt=Math.round(t[0].speed)+"",te=Math.round(100*(t[0].speed-Math.round(t[0].speed)))+"",ee=t[0].bikeSettings.bikeWeight+"",ne=t[0].bikeSettings.wheelsInertia+"",se=t[0].bikeSettings.wheelsCircumference+"",ie=t[0].bikeSettings.efficiency+"",le=t[0].bikeSettings.area+"",oe=t[0].userSettings.rho+"",re=t[0].bikeSettings.cx+"",ce=t[0].bikeName+"",ae=t[0].time+"",ue=t[0].date+"";return Ot=new Se({props:{subject:is,body:ls+" "+t[1]}}),Pt=new De({props:{class:"share-button",title:is,url:t[1]}}),Rt=new Ee({props:{class:"share-button",url:t[1]}}),At=new Le({props:{class:"share-button",text:is,url:t[1]}}),Ht=new Ke({props:{class:"share-button",text:is+" "+t[1]}}),Ft=new Me({props:{class:"share-button",url:t[1]}}),Gt=new Ye({props:{class:"share-button",text:is,url:t[1]}}),{c(){e=x("div"),n=x("div"),s=x("h1"),s.textContent="WHPSC Simulator",i=C(),l=x("div"),o=x("h1"),r=_(Zt),c=C(),a=_(Xt),u=C(),d=x("span"),f=x("em"),h=_(Qt),p=_("\n                ."),g=_(te),m=_(" km/h"),$=C(),y=x("table"),k=x("tr"),S=x("th"),S.textContent="Bike Weight",q=C(),M=x("td"),B=_(ee),z=_("kg"),E=C(),O=x("tr"),j=x("th"),j.textContent="Wheels Inertia",P=C(),D=x("td"),R=_(ne),T=C(),A=x("tr"),L=x("th"),L.textContent="Wheels Circumference",H=C(),U=x("td"),F=_(se),Y=_("m"),G=C(),V=x("tr"),J=x("th"),J.textContent="Efficiency",K=C(),Z=x("td"),X=_(ie),Q=C(),tt=x("tr"),et=x("th"),et.textContent="Area",nt=C(),st=x("td"),it=_(le),lt=_("m²"),ot=C(),rt=x("tr"),ct=x("th"),ct.textContent="Rho",at=C(),ut=x("td"),dt=_(oe),pt=C(),gt=x("tr"),mt=x("th"),mt.textContent="Cx",$t=C(),bt=x("td"),xt=_(re),kt=C(),_t=x("span"),Ct=_(ce),St=C(),Nt=x("span"),Wt=_(ae),qt=C(),Mt=_(ue),It=C(),Bt=x("button"),Bt.textContent="Go to WHPSC simulator",zt=C(),Et=x("div"),vt(Ot.$$.fragment),jt=C(),vt(Pt.$$.fragment),Dt=C(),vt(Rt.$$.fragment),Tt=C(),vt(At.$$.fragment),Lt=C(),vt(Ht.$$.fragment),Ut=C(),vt(Ft.$$.fragment),Yt=C(),vt(Gt.$$.fragment),W(s,"class","title svelte-i0yb71"),W(o,"class","svelte-i0yb71"),W(f,"class","big svelte-i0yb71"),W(d,"class","middle_top svelte-i0yb71"),W(S,"class","svelte-i0yb71"),W(M,"class","svelte-i0yb71"),W(j,"class","svelte-i0yb71"),W(D,"class","svelte-i0yb71"),W(L,"class","svelte-i0yb71"),W(U,"class","svelte-i0yb71"),W(J,"class","svelte-i0yb71"),W(Z,"class","svelte-i0yb71"),W(et,"class","svelte-i0yb71"),W(st,"class","svelte-i0yb71"),W(ct,"class","svelte-i0yb71"),W(ut,"class","svelte-i0yb71"),W(mt,"class","svelte-i0yb71"),W(bt,"class","svelte-i0yb71"),W(y,"class","svelte-i0yb71"),W(_t,"class","bike_name svelte-i0yb71"),W(Nt,"class","right timestamp svelte-i0yb71"),W(l,"class","content svelte-i0yb71"),W(Bt,"class","btn svelte-i0yb71"),W(n,"class","container svelte-i0yb71")},m(t,w){v(t,e,w),b(e,n),b(n,s),b(n,i),b(n,l),b(l,o),b(o,r),b(o,c),b(o,a),b(l,u),b(l,d),b(d,f),b(f,h),b(d,p),b(d,g),b(d,m),b(l,$),b(l,y),b(y,k),b(k,S),b(k,q),b(k,M),b(M,B),b(M,z),b(y,E),b(y,O),b(O,j),b(O,P),b(O,D),b(D,R),b(y,T),b(y,A),b(A,L),b(A,H),b(A,U),b(U,F),b(U,Y),b(y,G),b(y,V),b(V,J),b(V,K),b(V,Z),b(Z,X),b(y,Q),b(y,tt),b(tt,et),b(tt,nt),b(tt,st),b(st,it),b(st,lt),b(y,ot),b(y,rt),b(rt,ct),b(rt,at),b(rt,ut),b(ut,dt),b(y,pt),b(y,gt),b(gt,mt),b(gt,$t),b(gt,bt),b(bt,xt),b(l,kt),b(l,_t),b(_t,Ct),b(l,St),b(l,Nt),b(Nt,Wt),b(Nt,qt),b(Nt,Mt),b(n,It),b(n,Bt),b(n,zt),b(n,Et),wt(Ot,Et,null),b(Et,jt),wt(Pt,Et,null),b(Et,Dt),wt(Rt,Et,null),b(Et,Tt),wt(At,Et,null),b(Et,Lt),wt(Ht,Et,null),b(Et,Ut),wt(Ft,Et,null),b(Et,Yt),wt(Gt,Et,null),Vt=!0,Jt||(Kt=N(Bt,"click",os),Jt=!0)},p(t,[e]){(!Vt||1&e)&&Zt!==(Zt=t[0].firstName+"")&&I(r,Zt),(!Vt||1&e)&&Xt!==(Xt=t[0].lastName+"")&&I(a,Xt),(!Vt||1&e)&&Qt!==(Qt=Math.round(t[0].speed)+"")&&I(h,Qt),(!Vt||1&e)&&te!==(te=Math.round(100*(t[0].speed-Math.round(t[0].speed)))+"")&&I(g,te),(!Vt||1&e)&&ee!==(ee=t[0].bikeSettings.bikeWeight+"")&&I(B,ee),(!Vt||1&e)&&ne!==(ne=t[0].bikeSettings.wheelsInertia+"")&&I(R,ne),(!Vt||1&e)&&se!==(se=t[0].bikeSettings.wheelsCircumference+"")&&I(F,se),(!Vt||1&e)&&ie!==(ie=t[0].bikeSettings.efficiency+"")&&I(X,ie),(!Vt||1&e)&&le!==(le=t[0].bikeSettings.area+"")&&I(it,le),(!Vt||1&e)&&oe!==(oe=t[0].userSettings.rho+"")&&I(dt,oe),(!Vt||1&e)&&re!==(re=t[0].bikeSettings.cx+"")&&I(xt,re),(!Vt||1&e)&&ce!==(ce=t[0].bikeName+"")&&I(Ct,ce),(!Vt||1&e)&&ae!==(ae=t[0].time+"")&&I(Wt,ae),(!Vt||1&e)&&ue!==(ue=t[0].date+"")&&I(Mt,ue)},i(t){Vt||(ft(Ot.$$.fragment,t),ft(Pt.$$.fragment,t),ft(Rt.$$.fragment,t),ft(At.$$.fragment,t),ft(Ht.$$.fragment,t),ft(Ft.$$.fragment,t),ft(Gt.$$.fragment,t),Vt=!0)},o(t){ht(Ot.$$.fragment,t),ht(Pt.$$.fragment,t),ht(Rt.$$.fragment,t),ht(At.$$.fragment,t),ht(Ht.$$.fragment,t),ht(Ft.$$.fragment,t),ht(Gt.$$.fragment,t),Vt=!1},d(t){t&&w(e),yt(Ot),yt(Pt),yt(Rt),yt(At),yt(Ht),yt(Ft),yt(Gt),Jt=!1,Kt()}}}const is="WHPSC Simulator Result",ls="Watch my result on WHPSC Simulator";function os(){const t=new URLSearchParams;t.delete("res"),window.history.replaceState({},"",`${location.pathname}?${t}`),window.location.reload()}function rs(t,e,n){let{resultId:s}=e,i=new rn(0,0,new ue(0,0,0,0,0,0,void 0),new de(0,0,0),"","","");const l=window.location.href;return H(()=>{fetch("https://www.policumbent.it/whpsc_sim_backend/results.php",{cache:"no-store"}).then(t=>t.json()).then(t=>{const e=t.find(t=>t.id===s);void 0===e&&os();const l=new ue(e.bikeSettings.bikeWeight,e.bikeSettings.wheelsInertia,e.bikeSettings.wheelsCircumference,e.bikeSettings.efficiency,e.bikeSettings.area,e.bikeSettings.cx,void 0),o=new de(void 0,void 0,e.bikeSettings.rho);n(0,i=new rn(e.speed,l.power,l,o,e.bikeName,e.firstName,e.lastName,"",e.timestamp))})}),t.$set=t=>{"resultId"in t&&n(2,s=t.resultId)},[i,l,s]}class cs extends _t{constructor(t){super(),kt(this,t,rs,ss,r,{resultId:2})}}function as(t){let e,n;return e=new cs({props:{resultId:t[5]}}),{c(){vt(e.$$.fragment)},m(t,s){wt(e,t,s),n=!0},p(t,n){const s={};32&n&&(s.resultId=t[5]),e.$set(s)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function us(t){let e,n,s,i,l;const o=[fs,ds],r=[];function c(t,e){return t[2]?0:1}return e=c(t),n=r[e]=o[e](t),i=new re({props:{$$slots:{default:[hs]},$$scope:{ctx:t}}}),{c(){n.c(),s=C(),vt(i.$$.fragment)},m(t,n){r[e].m(t,n),v(t,s,n),wt(i,t,n),l=!0},p(t,l){let a=e;e=c(t),e===a?r[e].p(t,l):(ut(),ht(r[a],1,1,()=>{r[a]=null}),dt(),n=r[e],n||(n=r[e]=o[e](t),n.c()),ft(n,1),n.m(s.parentNode,s));const u={};16392&l&&(u.$$scope={dirty:l,ctx:t}),i.$set(u)},i(t){l||(ft(n),ft(i.$$.fragment,t),l=!0)},o(t){ht(n),ht(i.$$.fragment,t),l=!1},d(t){r[e].d(t),t&&w(s),yt(i,t)}}}function ds(e){let n,s,i,l,o,r,c,a,u,d,f,h,p,g,m,$,y;return n=new ts({}),n.$on("message",e[7]),l=new Se({props:{subject:gs,body:ms+" "+e[6]}}),r=new De({props:{class:"share-button",title:gs,url:e[6]}}),a=new Ee({props:{class:"share-button",url:e[6]}}),d=new Le({props:{class:"share-button",text:gs,url:e[6]}}),h=new Ke({props:{class:"share-button",text:gs+" "+e[6]}}),g=new Me({props:{class:"share-button",url:e[6]}}),$=new Ye({props:{class:"share-button",text:gs,url:e[6]}}),{c(){vt(n.$$.fragment),s=C(),i=x("div"),vt(l.$$.fragment),o=C(),vt(r.$$.fragment),c=C(),vt(a.$$.fragment),u=C(),vt(d.$$.fragment),f=C(),vt(h.$$.fragment),p=C(),vt(g.$$.fragment),m=C(),vt($.$$.fragment),W(i,"class","bottom svelte-1f00co7")},m(t,e){wt(n,t,e),v(t,s,e),v(t,i,e),wt(l,i,null),b(i,o),wt(r,i,null),b(i,c),wt(a,i,null),b(i,u),wt(d,i,null),b(i,f),wt(h,i,null),b(i,p),wt(g,i,null),b(i,m),wt($,i,null),y=!0},p:t,i(t){y||(ft(n.$$.fragment,t),ft(l.$$.fragment,t),ft(r.$$.fragment,t),ft(a.$$.fragment,t),ft(d.$$.fragment,t),ft(h.$$.fragment,t),ft(g.$$.fragment,t),ft($.$$.fragment,t),y=!0)},o(t){ht(n.$$.fragment,t),ht(l.$$.fragment,t),ht(r.$$.fragment,t),ht(a.$$.fragment,t),ht(d.$$.fragment,t),ht(h.$$.fragment,t),ht(g.$$.fragment,t),ht($.$$.fragment,t),y=!1},d(t){yt(n,t),t&&w(s),t&&w(i),yt(l),yt(r),yt(a),yt(d),yt(h),yt(g),yt($)}}}function fs(t){let e,n,s,i,o,r,c,a,u,d=$e();n=new Jt({props:{class:"top-right-fixed",data:Kt,scale:"3"}});let f={power:isNaN(t[0])?0:t[0],bikeSettings:t[4].settings,userSettings:ve()};i=new on({props:f}),t[9](i),i.$on("message",t[8]);let h=d&&function(t){let e,n,s,i,o,r,c,a,u;return{c(){e=x("div"),n=x("label"),s=_("Power Debug Slider: "),i=_(t[0]),o=_("W"),r=C(),c=x("input"),W(n,"id","power_debug_label"),W(n,"for","power_debug"),W(c,"class","slider svelte-1f00co7"),W(c,"id","power_debug"),W(c,"type","range"),W(c,"min","0"),W(c,"max","1000"),W(e,"id","power_debug_div"),W(e,"class","svelte-1f00co7")},m(l,d){v(l,e,d),b(e,n),b(n,s),b(n,i),b(n,o),b(e,r),b(e,c),B(c,t[0]),a||(u=[N(c,"change",t[10]),N(c,"input",t[10])],a=!0)},p(t,e){1&e&&I(i,t[0]),1&e&&B(c,t[0])},d(t){t&&w(e),a=!1,l(u)}}}(t);return{c(){e=x("span"),vt(n.$$.fragment),s=C(),vt(i.$$.fragment),o=C(),h&&h.c(),r=S(),W(e,"class","top-right-fixed svelte-1f00co7")},m(t,l){v(t,e,l),wt(n,e,null),v(t,s,l),wt(i,t,l),v(t,o,l),h&&h.m(t,l),v(t,r,l),c=!0,a||(u=N(e,"click",$s),a=!0)},p(t,e){const n={};1&e&&(n.power=isNaN(t[0])?0:t[0]),16&e&&(n.bikeSettings=t[4].settings),i.$set(n),d&&h.p(t,e)},i(t){c||(ft(n.$$.fragment,t),ft(i.$$.fragment,t),c=!0)},o(t){ht(n.$$.fragment,t),ht(i.$$.fragment,t),c=!1},d(l){l&&w(e),yt(n),l&&w(s),t[9](null),yt(i,l),l&&w(o),h&&h.d(l),l&&w(r),a=!1,u()}}}function hs(t){let e,n,s;function i(e){t[11].call(null,e)}let l={};return void 0!==t[3]&&(l.openModal=t[3]),e=new ns({props:l}),J.push(()=>bt(e,"openModal",i)),{c(){vt(e.$$.fragment)},m(t,n){wt(e,t,n),s=!0},p(t,s){const i={};!n&&8&s&&(n=!0,i.openModal=t[3],et(()=>n=!1)),e.$set(i)},i(t){s||(ft(e.$$.fragment,t),s=!0)},o(t){ht(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function ps(t){let e,n,s,i;const l=[us,as],o=[];function r(t,e){return null===t[5]?0:1}return n=r(t),s=o[n]=l[n](t),{c(){e=x("main"),s.c(),W(e,"class","svelte-1f00co7")},m(t,s){v(t,e,s),o[n].m(e,null),i=!0},p(t,[i]){let c=n;n=r(t),n===c?o[n].p(t,i):(ut(),ht(o[c],1,1,()=>{o[c]=null}),dt(),s=o[n],s||(s=o[n]=l[n](t),s.c()),ft(s,1),s.m(e,null))},i(t){i||(ft(s),i=!0)},o(t){ht(s),i=!1},d(t){t&&w(e),o[n].d()}}}const gs="WHPSC Simulator",ms="Try a fast streamliner on Battle Mountain track.";function $s(){document.exitFullscreen()}function bs(t,e,n){let s,i,l,o=0,r=!1,c=null;const a=window.location.href;pe.subscribe(t=>n(0,o=t));return document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("fullscreenchange",t=>null===document.fullscreenElement?(n(2,r=!1),void window.document.body.classList.toggle("dark-mode")):t),H(()=>{const t=new URLSearchParams(window.location.search);console.log(t.get("res")),n(5,c=t.get("res"))}),[o,s,r,i,l,c,a,function(t){n(4,l=t.detail.text),console.log("START",l),document.documentElement.requestFullscreen().then(()=>{n(2,r=!0),window.document.body.classList.toggle("dark-mode")}).catch(t=>console.log(t))},function(t){console.log("HANDLE",l.settings),console.log(t.detail.text),void 0!==t.detail.text&&$s();const e=void 0!==t.detail.text?t.detail.text.speed:141,n=void 0!==t.detail.text?t.detail.text.power:0;i(e,n,l.bikeName,l.settings,ve())},function(t){J[t?"unshift":"push"](()=>{s=t,n(1,s)})},function(){o=M(this.value),n(0,o)},function(t){i=t,n(3,i)}]}return new class extends _t{constructor(t){super(),kt(this,t,bs,ps,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
