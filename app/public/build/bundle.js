var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(i)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,i){if(t){const s=a(t,e,n,i);return t[0](s)}}function a(t,e,i,s){return t[1]&&s?n(i.ctx.slice(),t[1](s(e))):i.ctx}function u(t,e,n,i,s,o,l){const r=function(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|s[i];return t}return e.dirty|s}return e.dirty}(e,i,s,o);if(r){const s=a(e,n,i,l);t.p(s,r)}}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),h=d?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&h(g)}function m(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function k(){return x(" ")}function _(){return x("")}function C(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){for(const n in e)S(t,n,e[n])}function W(t){return""===t?void 0:+t}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function j(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function O(t,e,n){t.classList[n?"add":"remove"](e)}function E(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const q=new Set;let z,I=0;function D(t,e,n,i,s,o,l,r=0){const c=16.666/i;let a="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*o(t);a+=100*t+`%{${l(i,1-i)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,f=t.ownerDocument;q.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(w("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${i}ms linear ${s}ms 1 both`,I+=1,d}function P(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-i.length;s&&(t.style.animation=i.join(", "),I-=s,I||h(()=>{I||(q.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),q.clear())}))}function T(t){z=t}function A(){if(!z)throw new Error("Function called outside component initialization");return z}function R(t){A().$$.on_mount.push(t)}function L(){const t=A();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const s=E(e,n);i.slice().forEach(e=>{e.call(t,s)})}}}function F(t,e){A().$$.context.set(t,e)}function H(t){return A().$$.context.get(t)}function U(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const Y=[],J=[],G=[],K=[],V=Promise.resolve();let Z=!1;function X(t){G.push(t)}function Q(t){K.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<Y.length;t+=1){const e=Y[t];T(e),it(e.$$)}for(Y.length=0;J.length;)J.pop()();for(let t=0;t<G.length;t+=1){const e=G[t];et.has(e)||(et.add(e),e())}G.length=0}while(Y.length);for(;K.length;)K.pop()();Z=!1,tt=!1,et.clear()}}function it(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}let st;function ot(t,e,n){t.dispatchEvent(E(`${e?"intro":"outro"}${n}`))}const lt=new Set;let rt;function ct(){rt={r:0,c:[],p:rt}}function at(){rt.r||o(rt.c),rt=rt.p}function ut(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function dt(t,e,n,i){if(t&&t.o){if(lt.has(t))return;lt.add(t),rt.c.push(()=>{lt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const ft={duration:0};function ht(n,i,s,r){let c=i(n,s),a=r?0:1,u=null,d=null,m=null;function v(){m&&P(n,m)}function $(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(i){const{delay:s=0,duration:l=300,easing:r=e,tick:y=t,css:w}=c||ft,b={start:f()+s,b:i};i||(b.group=rt,rt.r+=1),u?d=b:(w&&(v(),m=D(n,a,i,l,s,r,w)),i&&y(0,1),u=$(b,l),X(()=>ot(n,i,"start")),function(t){let e;0===p.size&&h(g),new Promise(n=>{p.add(e={c:t,f:n})})}(t=>{if(d&&t>d.start&&(u=$(d,l),d=null,ot(n,u.b,"start"),w&&(v(),m=D(n,a,u.b,u.duration,0,r,c.css))),u)if(t>=u.end)y(a=u.b,1-a),ot(n,u.b,"end"),d||(u.b?v():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*r(e/u.duration),y(a,1-a)}return!(!u&&!d)}))}return{run(t){l(c)?(st||(st=Promise.resolve(),st.then(()=>{st=null})),st).then(()=>{c=c(),y(t)}):y(t)},end(){v(),u=d=null}}}function pt(t,e){const n={},i={},s={$$scope:1};let o=t.length;for(;o--;){const l=t[o],r=e[o];if(r){for(const t in l)t in r||(i[t]=1);for(const t in r)s[t]||(n[t]=r[t],s[t]=1);t[o]=r}else for(const t in l)s[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function gt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function mt(t){t&&t.c()}function vt(t,e,n){const{fragment:s,on_mount:r,on_destroy:c,after_update:a}=t.$$;s&&s.m(e,n),X(()=>{const e=r.map(i).filter(l);c?c.push(...e):o(e),t.$$.on_mount=[]}),a.forEach(X)}function $t(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e){-1===t.$$.dirty[0]&&(Y.push(t),Z||(Z=!0,V.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,i,l,r,c,a=[-1]){const u=z;T(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:a};let h=!1;if(f.ctx=i?i(e,d,(t,n,...i)=>{const s=i.length?i[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=s)&&(f.bound[t]&&f.bound[t](s),h&&yt(e,t)),n}):[],f.update(),h=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&ut(e.$$.fragment),vt(e,n.target,n.anchor),nt()}T(u)}class bt{$destroy(){$t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}class xt extends bt{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function kt(e){let i,s,o=[{key:s="path-"+e[0]},e[1]],l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return{c(){i=b("path"),N(i,l)},m(t,e){v(t,i,e)},p(t,[e]){N(i,l=pt(o,[1&e&&s!==(s="path-"+t[0])&&{key:s},2&e&&t[1]]))},i:t,o:t,d(t){t&&$(i)}}}function _t(t,e,n){let{id:i=""}=e,{data:s={}}=e;return t.$set=t=>{"id"in t&&n(0,i=t.id),"data"in t&&n(1,s=t.data)},[i,s]}class Ct extends bt{constructor(t){super(),wt(this,t,_t,kt,r,{id:0,data:1})}}function St(e){let i,s,o=[{key:s="polygon-"+e[0]},e[1]],l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return{c(){i=b("polygon"),N(i,l)},m(t,e){v(t,i,e)},p(t,[e]){N(i,l=pt(o,[1&e&&s!==(s="polygon-"+t[0])&&{key:s},2&e&&t[1]]))},i:t,o:t,d(t){t&&$(i)}}}function Nt(t,e,n){let{id:i=""}=e,{data:s={}}=e;return t.$set=t=>{"id"in t&&n(0,i=t.id),"data"in t&&n(1,s=t.data)},[i,s]}class Wt extends bt{constructor(t){super(),wt(this,t,Nt,St,r,{id:0,data:1})}}function Bt(e){let n;return{c(){n=b("g")},m(t,i){v(t,n,i),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&$(n)}}}function Mt(t,e,n){let i,s=870711;let{data:o}=e;function l(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(t,e)=>{const i=(s+=1,"fa-"+s.toString(16));return n[e]=i,` id="${i}"`}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,e,i,s)=>{const o=e||s;return o&&n[o]?"#"+n[o]:t}),e}return t.$set=t=>{"data"in t&&n(1,o=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=l(o))},[i,o]}class jt extends bt{constructor(t){super(),wt(this,t,Mt,Bt,r,{data:1})}}function Ot(t){let e,n,i,s;const o=t[13].default,l=c(o,t,t[12],null);return{c(){e=b("svg"),l&&l.c(),S(e,"version","1.1"),S(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),S(e,"x",t[8]),S(e,"y",t[9]),S(e,"width",t[1]),S(e,"height",t[2]),S(e,"aria-label",t[11]),S(e,"role",i=t[11]?"img":"presentation"),S(e,"viewBox",t[3]),S(e,"style",t[10]),O(e,"fa-spin",t[4]),O(e,"fa-pulse",t[6]),O(e,"fa-inverse",t[5]),O(e,"fa-flip-horizontal","horizontal"===t[7]),O(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){v(t,e,n),l&&l.m(e,null),s=!0},p(t,[r]){l&&l.p&&4096&r&&u(l,o,t,t[12],r,null,null),(!s||1&r&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&S(e,"class",n),(!s||256&r)&&S(e,"x",t[8]),(!s||512&r)&&S(e,"y",t[9]),(!s||2&r)&&S(e,"width",t[1]),(!s||4&r)&&S(e,"height",t[2]),(!s||2048&r)&&S(e,"aria-label",t[11]),(!s||2048&r&&i!==(i=t[11]?"img":"presentation"))&&S(e,"role",i),(!s||8&r)&&S(e,"viewBox",t[3]),(!s||1024&r)&&S(e,"style",t[10]),17&r&&O(e,"fa-spin",t[4]),65&r&&O(e,"fa-pulse",t[6]),33&r&&O(e,"fa-inverse",t[5]),129&r&&O(e,"fa-flip-horizontal","horizontal"===t[7]),129&r&&O(e,"fa-flip-vertical","vertical"===t[7])},i(t){s||(ut(l,t),s=!0)},o(t){dt(l,t),s=!1},d(t){t&&$(e),l&&l.d(t)}}}function Et(t,e,n){let{class:i}=e,{width:s}=e,{height:o}=e,{box:l}=e,{spin:r=!1}=e,{inverse:c=!1}=e,{pulse:a=!1}=e,{flip:u=null}=e,{x:d}=e,{y:f}=e,{style:h}=e,{label:p}=e,{$$slots:g={},$$scope:m}=e;return t.$set=t=>{"class"in t&&n(0,i=t.class),"width"in t&&n(1,s=t.width),"height"in t&&n(2,o=t.height),"box"in t&&n(3,l=t.box),"spin"in t&&n(4,r=t.spin),"inverse"in t&&n(5,c=t.inverse),"pulse"in t&&n(6,a=t.pulse),"flip"in t&&n(7,u=t.flip),"x"in t&&n(8,d=t.x),"y"in t&&n(9,f=t.y),"style"in t&&n(10,h=t.style),"label"in t&&n(11,p=t.label),"$$scope"in t&&n(12,m=t.$$scope)},[i,s,o,l,r,c,a,u,d,f,h,p,m,g]}class qt extends bt{constructor(t){super(),wt(this,t,Et,Ot,r,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function zt(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function It(t,e,n){const i=t.slice();return i[27]=e[n],i[26]=n,i}function Dt(t){let e,n,i,s,o=t[0].paths&&Pt(t),l=t[0].polygons&&At(t),r=t[0].raw&&Lt(t);return{c(){o&&o.c(),e=k(),l&&l.c(),n=k(),r&&r.c(),i=_()},m(t,c){o&&o.m(t,c),v(t,e,c),l&&l.m(t,c),v(t,n,c),r&&r.m(t,c),v(t,i,c),s=!0},p(t,s){t[0].paths?o?(o.p(t,s),1&s&&ut(o,1)):(o=Pt(t),o.c(),ut(o,1),o.m(e.parentNode,e)):o&&(ct(),dt(o,1,1,()=>{o=null}),at()),t[0].polygons?l?(l.p(t,s),1&s&&ut(l,1)):(l=At(t),l.c(),ut(l,1),l.m(n.parentNode,n)):l&&(ct(),dt(l,1,1,()=>{l=null}),at()),t[0].raw?r?(r.p(t,s),1&s&&ut(r,1)):(r=Lt(t),r.c(),ut(r,1),r.m(i.parentNode,i)):r&&(ct(),dt(r,1,1,()=>{r=null}),at())},i(t){s||(ut(o),ut(l),ut(r),s=!0)},o(t){dt(o),dt(l),dt(r),s=!1},d(t){o&&o.d(t),t&&$(e),l&&l.d(t),t&&$(n),r&&r.d(t),t&&$(i)}}}function Pt(t){let e,n,i=t[0].paths,s=[];for(let e=0;e<i.length;e+=1)s[e]=Tt(It(t,i,e));const o=t=>dt(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=_()},m(t,i){for(let e=0;e<s.length;e+=1)s[e].m(t,i);v(t,e,i),n=!0},p(t,n){if(1&n){let l;for(i=t[0].paths,l=0;l<i.length;l+=1){const o=It(t,i,l);s[l]?(s[l].p(o,n),ut(s[l],1)):(s[l]=Tt(o),s[l].c(),ut(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=i.length;l<s.length;l+=1)o(l);at()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)ut(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)dt(s[t]);n=!1},d(t){y(s,t),t&&$(e)}}}function Tt(t){let e,n;return e=new Ct({props:{id:t[26],data:t[27]}}),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.data=t[27]),e.$set(i)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function At(t){let e,n,i=t[0].polygons,s=[];for(let e=0;e<i.length;e+=1)s[e]=Rt(zt(t,i,e));const o=t=>dt(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=_()},m(t,i){for(let e=0;e<s.length;e+=1)s[e].m(t,i);v(t,e,i),n=!0},p(t,n){if(1&n){let l;for(i=t[0].polygons,l=0;l<i.length;l+=1){const o=zt(t,i,l);s[l]?(s[l].p(o,n),ut(s[l],1)):(s[l]=Rt(o),s[l].c(),ut(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=i.length;l<s.length;l+=1)o(l);at()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)ut(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)dt(s[t]);n=!1},d(t){y(s,t),t&&$(e)}}}function Rt(t){let e,n;return e=new Wt({props:{id:t[26],data:t[24]}}),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.data=t[24]),e.$set(i)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function Lt(t){let e,n,i;function s(e){t[15].call(null,e)}let o={};return void 0!==t[0]&&(o.data=t[0]),e=new jt({props:o}),J.push(()=>gt(e,"data",s)),{c(){mt(e.$$.fragment)},m(t,n){vt(e,t,n),i=!0},p(t,i){const s={};!n&&1&i&&(n=!0,s.data=t[0],Q(()=>n=!1)),e.$set(s)},i(t){i||(ut(e.$$.fragment,t),i=!0)},o(t){dt(e.$$.fragment,t),i=!1},d(t){$t(e,t)}}}function Ft(t){let e;const n=t[14].default,i=c(n,t,t[16],null),s=i||function(t){let e,n,i=t[0]&&Dt(t);return{c(){i&&i.c(),e=_()},m(t,s){i&&i.m(t,s),v(t,e,s),n=!0},p(t,n){t[0]?i?(i.p(t,n),1&n&&ut(i,1)):(i=Dt(t),i.c(),ut(i,1),i.m(e.parentNode,e)):i&&(ct(),dt(i,1,1,()=>{i=null}),at())},i(t){n||(ut(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&$(e)}}}(t);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,e){i?i.p&&65536&e&&u(i,n,t,t[16],e,null,null):s&&s.p&&1&e&&s.p(t,e)},i(t){e||(ut(s,t),e=!0)},o(t){dt(s,t),e=!1},d(t){s&&s.d(t)}}}function Ht(t){let e,n;return e=new qt({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(t,[n]){const i={};64&n&&(i.label=t[6]),128&n&&(i.width=t[7]),256&n&&(i.height=t[8]),1024&n&&(i.box=t[10]),512&n&&(i.style=t[9]),4&n&&(i.spin=t[2]),32&n&&(i.flip=t[5]),8&n&&(i.inverse=t[3]),16&n&&(i.pulse=t[4]),2&n&&(i.class=t[1]),65537&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function Ut(t,e,n){let i,s,o,l,{class:r=""}=e,{data:c}=e,{scale:a=1}=e,{spin:u=!1}=e,{inverse:d=!1}=e,{pulse:f=!1}=e,{flip:h=null}=e,{label:p=null}=e,{self:g=null}=e,{style:m=null}=e;function v(){let t=1;return void 0!==a&&(t=Number(a)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function $(){return g?Math.max(g.width,g.height)/16:1}let{$$slots:y={},$$scope:w}=e;return t.$set=t=>{"class"in t&&n(1,r=t.class),"data"in t&&n(11,c=t.data),"scale"in t&&n(12,a=t.scale),"spin"in t&&n(2,u=t.spin),"inverse"in t&&n(3,d=t.inverse),"pulse"in t&&n(4,f=t.pulse),"flip"in t&&n(5,h=t.flip),"label"in t&&n(6,p=t.label),"self"in t&&n(0,g=t.self),"style"in t&&n(13,m=t.style),"$$scope"in t&&n(16,w=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===c)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,i=t.iconName,s={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[i]=s,e}return t}(c),[e]=Object.keys(t),i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n(0,g=i)}(),n(7,i=g?g.width/$()*v():0),n(8,s=g?g.height/$()*v():0),n(9,o=function(){let t="";null!==m&&(t+=m);let e=v();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,l=g?`0 0 ${g.width} ${g.height}`:`0 0 ${i} ${s}`))},[g,r,u,d,f,h,p,i,s,o,l,c,a,m,y,function(t){g=t,n(0,g)},w]}class Yt extends bt{constructor(t){super(),wt(this,t,Ut,Ht,r,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var Jt={close:{width:1408,height:1792,paths:[{d:"M1298 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}]}},Gt={gear:{width:1536,height:1792,paths:[{d:"M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1536 787v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"}]}};function Kt(t){const e=t-1;return e*e*e+1}function Vt(t,{delay:n=0,duration:i=400,easing:s=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:s,css:t=>"opacity: "+t*o}}function Zt(t,{delay:e=0,duration:n=400,easing:i=Kt,x:s=0,y:o=0,opacity:l=0}){const r=getComputedStyle(t),c=+r.opacity,a="none"===r.transform?"":r.transform,u=c*(1-l);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*s}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}function Xt(t){let e,i,s,r,c,a,u,d,f,h,p,g=t[0].closeButton&&Qt(t);const y=[t[2]];var b=t[1];function x(t){let e={};for(let t=0;t<y.length;t+=1)e=n(e,y[t]);return{props:e}}return b&&(a=new b(x())),{c(){e=w("div"),i=w("div"),s=w("div"),g&&g.c(),r=k(),c=w("div"),a&&mt(a.$$.fragment),S(c,"class","content svelte-1hfz9of"),S(c,"style",t[12]),S(s,"class","window svelte-1hfz9of"),S(s,"role","dialog"),S(s,"aria-modal","true"),S(s,"style",t[11]),S(i,"class","window-wrap svelte-1hfz9of"),S(e,"class","bg svelte-1hfz9of"),S(e,"style",t[10])},m(n,o){v(n,e,o),m(e,i),m(i,s),g&&g.m(s,null),m(s,r),m(s,c),a&&vt(a,c,null),t[35](s),t[36](i),t[37](e),f=!0,h||(p=[C(s,"introstart",(function(){l(t[6])&&t[6].apply(this,arguments)})),C(s,"outrostart",(function(){l(t[7])&&t[7].apply(this,arguments)})),C(s,"introend",(function(){l(t[8])&&t[8].apply(this,arguments)})),C(s,"outroend",(function(){l(t[9])&&t[9].apply(this,arguments)})),C(e,"click",t[19])],h=!0)},p(n,i){(t=n)[0].closeButton?g?(g.p(t,i),1&i[0]&&ut(g,1)):(g=Qt(t),g.c(),ut(g,1),g.m(s,r)):g&&(ct(),dt(g,1,1,()=>{g=null}),at());const o=4&i[0]?pt(y,[(l=t[2],"object"==typeof l&&null!==l?l:{})]):{};var l;if(b!==(b=t[1])){if(a){ct();const t=a;dt(t.$$.fragment,1,0,()=>{$t(t,1)}),at()}b?(a=new b(x()),mt(a.$$.fragment),ut(a.$$.fragment,1),vt(a,c,null)):a=null}else b&&a.$set(o);(!f||4096&i[0])&&S(c,"style",t[12]),(!f||2048&i[0])&&S(s,"style",t[11]),(!f||1024&i[0])&&S(e,"style",t[10])},i(n){f||(ut(g),a&&ut(a.$$.fragment,n),X(()=>{u||(u=ht(s,t[15],t[0].transitionWindowProps,!0)),u.run(1)}),X(()=>{d||(d=ht(e,t[14],t[0].transitionBgProps,!0)),d.run(1)}),f=!0)},o(n){dt(g),a&&dt(a.$$.fragment,n),u||(u=ht(s,t[15],t[0].transitionWindowProps,!1)),u.run(0),d||(d=ht(e,t[14],t[0].transitionBgProps,!1)),d.run(0),f=!1},d(n){n&&$(e),g&&g.d(),a&&$t(a),t[35](null),n&&u&&u.end(),t[36](null),t[37](null),n&&d&&d.end(),h=!1,o(p)}}}function Qt(t){let e,n,i,s,o;const l=[ee,te],r=[];function c(t,n){return 1&n[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return n=c(t,[-1]),i=r[n]=l[n](t),{c(){i.c(),s=_()},m(t,e){r[n].m(t,e),v(t,s,e),o=!0},p(t,e){let o=n;n=c(t,e),n===o?r[n].p(t,e):(ct(),dt(r[o],1,1,()=>{r[o]=null}),at(),i=r[n],i||(i=r[n]=l[n](t),i.c()),ut(i,1),i.m(s.parentNode,s))},i(t){o||(ut(i),o=!0)},o(t){dt(i),o=!1},d(t){r[n].d(t),t&&$(s)}}}function te(e){let n,i,s;return{c(){n=w("button"),S(n,"class","close svelte-1hfz9of"),S(n,"style",e[13])},m(t,o){v(t,n,o),i||(s=C(n,"click",e[17]),i=!0)},p(t,e){8192&e[0]&&S(n,"style",t[13])},i:t,o:t,d(t){t&&$(n),i=!1,s()}}}function ee(t){let e,n,i;var s=t[0].closeButton;function o(t){return{props:{onClose:t[17]}}}return s&&(e=new s(o(t))),{c(){e&&mt(e.$$.fragment),n=_()},m(t,s){e&&vt(e,t,s),v(t,n,s),i=!0},p(t,i){if(s!==(s=t[0].closeButton)){if(e){ct();const t=e;dt(t.$$.fragment,1,0,()=>{$t(t,1)}),at()}s?(e=new s(o(t)),mt(e.$$.fragment),ut(e.$$.fragment,1),vt(e,n.parentNode,n)):e=null}},i(t){i||(e&&ut(e.$$.fragment,t),i=!0)},o(t){e&&dt(e.$$.fragment,t),i=!1},d(t){t&&$(n),e&&$t(e,t)}}}function ne(t){let e,n,i,s,o=t[1]&&Xt(t);const l=t[34].default,r=c(l,t,t[33],null);return{c(){o&&o.c(),e=k(),r&&r.c()},m(l,c){o&&o.m(l,c),v(l,e,c),r&&r.m(l,c),n=!0,i||(s=C(window,"keydown",t[18]),i=!0)},p(t,n){t[1]?o?(o.p(t,n),2&n[0]&&ut(o,1)):(o=Xt(t),o.c(),ut(o,1),o.m(e.parentNode,e)):o&&(ct(),dt(o,1,1,()=>{o=null}),at()),r&&r.p&&4&n[1]&&u(r,l,t,t[33],n,null,null)},i(t){n||(ut(o),ut(r,t),n=!0)},o(t){dt(o),dt(r,t),n=!1},d(t){o&&o.d(t),t&&$(e),r&&r.d(t),i=!1,s()}}}function ie(t,e,n){let{key:i="simple-modal"}=e,{closeButton:s=!0}=e,{closeOnEsc:o=!0}=e,{closeOnOuterClick:l=!0}=e,{styleBg:r={top:0,left:0}}=e,{styleWindow:c={}}=e,{styleContent:a={}}=e,{styleCloseButton:u={}}=e,{setContext:d=F}=e,{transitionBg:f=Vt}=e,{transitionBgProps:h={duration:250}}=e,{transitionWindow:p=f}=e,{transitionWindowProps:g=h}=e;const m={closeButton:s,closeOnEsc:o,closeOnOuterClick:l,styleBg:r,styleWindow:c,styleContent:a,styleCloseButton:u,transitionBg:f,transitionBgProps:h,transitionWindow:p,transitionWindowProps:g};let v,$,y,w={...m},b=null,x=null;const k=t=>Object.keys(t).reduce((e,n)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${t[n]}`,""),_=()=>{};let C=_,S=_,N=_,W=_;const B=(t={})=>{n(7,S=t.onClose||S),n(9,W=t.onClosed||W),n(1,b=null),n(2,x=null)};d(i,{open:(t,e={},i={},s={})=>{n(1,b=t),n(2,x=e),n(0,w={...m,...i}),n(6,C=s.onOpen||_),n(7,S=s.onClose||_),n(8,N=s.onOpened||_),n(9,W=s.onClosed||_)},close:B});let M,j,O,E,q,z,{$$slots:I={},$$scope:D}=e;return t.$set=t=>{"key"in t&&n(20,i=t.key),"closeButton"in t&&n(21,s=t.closeButton),"closeOnEsc"in t&&n(22,o=t.closeOnEsc),"closeOnOuterClick"in t&&n(23,l=t.closeOnOuterClick),"styleBg"in t&&n(24,r=t.styleBg),"styleWindow"in t&&n(25,c=t.styleWindow),"styleContent"in t&&n(26,a=t.styleContent),"styleCloseButton"in t&&n(27,u=t.styleCloseButton),"setContext"in t&&n(28,d=t.setContext),"transitionBg"in t&&n(29,f=t.transitionBg),"transitionBgProps"in t&&n(30,h=t.transitionBgProps),"transitionWindow"in t&&n(31,p=t.transitionWindow),"transitionWindowProps"in t&&n(32,g=t.transitionWindowProps),"$$scope"in t&&n(33,D=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(10,M=k(w.styleBg)),1&t.$$.dirty[0]&&n(11,j=k(w.styleWindow)),1&t.$$.dirty[0]&&n(12,O=k(w.styleContent)),1&t.$$.dirty[0]&&n(13,E=k(w.styleCloseButton)),1&t.$$.dirty[0]&&n(14,q=w.transitionBg),1&t.$$.dirty[0]&&n(15,z=w.transitionWindow)},[w,b,x,v,$,y,C,S,N,W,M,j,O,E,q,z,t=>xt.isPrototypeOf(t),B,t=>{if(w.closeOnEsc&&b&&"Escape"===t.key&&(t.preventDefault(),B()),b&&"Tab"===t.key){const e=y.querySelectorAll("*"),n=Array.from(e).filter(t=>t.tabIndex>=0);let i=n.indexOf(document.activeElement);-1===i&&t.shiftKey&&(i=0),i+=n.length+(t.shiftKey?-1:1),i%=n.length,n[i].focus(),t.preventDefault()}},t=>{!w.closeOnOuterClick||t.target!==v&&t.target!==$||(t.preventDefault(),B())},i,s,o,l,r,c,a,u,d,f,h,p,g,D,I,function(t){J[t?"unshift":"push"](()=>{y=t,n(5,y)})},function(t){J[t?"unshift":"push"](()=>{$=t,n(4,$)})},function(t){J[t?"unshift":"push"](()=>{v=t,n(3,v)})}]}class se extends bt{constructor(t){super(),wt(this,t,ie,ne,r,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32},[-1,-1])}}const oe=[];function le(e,n=t){let i;const s=[];function o(t){if(r(e,t)&&(e=t,i)){const t=!oe.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),oe.push(n,e)}if(t){for(let t=0;t<oe.length;t+=2)oe[t][0](oe[t+1]);oe.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,r=t){const c=[l,r];return s.push(c),1===s.length&&(i=n(o)||t),l(e),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}class re{constructor(t,e,n,i,s,o,l){this._bikeWeight=t,this._wheelsInertia=e,this._wheelsCircumference=n,this._efficiency=i,this._area=s,this._cx=o,this._coefficientsFile=l}get bikeWeight(){return this._bikeWeight}get wheelsInertia(){return this._wheelsInertia}get wheelsCircumference(){return this._wheelsCircumference}get wheelsRadius(){return this._wheelsCircumference/6.283}get efficiency(){return this._efficiency}get area(){return this._area}get cx(){return this._cx}get coefficientsFile(){return this._coefficientsFile}}class ce{constructor(t,e,n){this._riderWeight=t,this._riderHeight=e,this._rho=n}get riderWeight(){return this._riderWeight}get riderHeight(){return this._riderHeight}get rho(){return this._rho}}class ae{constructor(t,e,n,i){this.bikeName=t,this.imgSrc=e,this.description=n,this.settings=i}}const ue=le(0),de=le(0),fe=new re(30,.09,1.45,.95,.3,.05,"coefficients4.json"),he=new ce(70,180,1.01),pe=()=>"true"===localStorage.getItem("debug");let ge=()=>{const t=localStorage.getItem("bike_settings");return null===t?fe:function(t){return new re(t._bikeWeight,t._wheelsInertia,t._wheelsCircumference,t._efficiency,t._area,t._cx,"coefficients4.json")}(JSON.parse(t))},me=()=>{const t=localStorage.getItem("user_settings");return null===t?he:function(t){return new ce(t._riderWeight,t._riderHeight,t._rho)}(JSON.parse(t))};function ve(t){let e,n,i;return{c(){e=w("div"),n=w("h2"),i=x(t[6]),S(n,"class","svelte-1myajo6"),S(e,"class","relative svelte-1myajo6")},m(t,s){v(t,e,s),m(e,n),m(n,i)},p(t,e){64&e&&B(i,t[6])},d(t){t&&$(e)}}}function $e(t){let e,n,i,s,o,l,r,c,a,u,d,f,h,p,g,y,b,_,N,W,M,j,O,E,q,z,I,D,P,T,A,R,L=Math.round(10*t[2])/10+"",F=Math.trunc(t[4]/60)>0?Math.trunc(t[4]/60)+"'":"",H=Math.round(t[4]%60)+'"',U=Math.round(t[3]/10)/100+"";return{c(){e=w("div"),n=w("video"),i=w("source"),o=x("\n        Your browser does not support video."),r=k(),c=w("div"),a=x("Speed: "),u=x(L),d=x(" km/h"),f=k(),h=w("div"),p=x("Power: "),g=x(t[0]),y=x(" W"),b=k(),_=w("div"),N=x(t[6]),W=k(),M=w("div"),j=x("Time: "),O=x(F),E=k(),q=x(H),z=k(),I=w("div"),D=x("Distance: "),P=x(U),T=x(" km"),i.src!==(s="data/bm-13-09-19_no_scritte.mp4")&&S(i,"src","data/bm-13-09-19_no_scritte.mp4"),S(i,"type","video/mp4"),S(n,"width",t[1]),S(n,"height",l=t[1]/1.666666666),n.muted=!0,S(n,"class","svelte-1myajo6"),S(c,"class","overlay bottom_left svelte-1myajo6"),S(h,"class","overlay bottom_right svelte-1myajo6"),S(_,"class","overlay center svelte-1myajo6"),S(M,"class","overlay top_left svelte-1myajo6"),S(I,"class","overlay top_right svelte-1myajo6"),S(e,"class","relative svelte-1myajo6")},m(s,l){v(s,e,l),m(e,n),m(n,i),m(n,o),t[12](n),isNaN(t[5])||(n.playbackRate=t[5]),m(e,r),m(e,c),m(c,a),m(c,u),m(c,d),m(e,f),m(e,h),m(h,p),m(h,g),m(h,y),m(e,b),m(e,_),m(_,N),m(e,W),m(e,M),m(M,j),m(M,O),m(M,E),m(M,q),m(e,z),m(e,I),m(I,D),m(I,P),m(I,T),A||(R=C(n,"ratechange",t[13]),A=!0)},p(t,e){2&e&&S(n,"width",t[1]),2&e&&l!==(l=t[1]/1.666666666)&&S(n,"height",l),32&e&&!isNaN(t[5])&&(n.playbackRate=t[5]),4&e&&L!==(L=Math.round(10*t[2])/10+"")&&B(u,L),1&e&&B(g,t[0]),64&e&&B(N,t[6]),16&e&&F!==(F=Math.trunc(t[4]/60)>0?Math.trunc(t[4]/60)+"'":"")&&B(O,F),16&e&&H!==(H=Math.round(t[4]%60)+'"')&&B(q,H),8&e&&U!==(U=Math.round(t[3]/10)/100+"")&&B(P,U)},d(n){n&&$(e),t[12](null),A=!1,R()}}}function ye(e){let n;function i(t,e){return t[8]?ve:$e}let s=i(e),o=s(e);return{c(){n=w("section"),o.c(),S(n,"class","svelte-1myajo6")},m(t,e){v(t,n,e),o.m(n,null)},p(t,[e]){s===(s=i(t))&&o?o.p(t,e):(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},i:t,o:t,d(t){t&&$(n),o.d()}}}const we=9.81,be=8184,xe=8384;function ke(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function l(t){try{c(i.next(t))}catch(t){o(t)}}function r(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,r)}c((i=i.apply(t,e||[])).next())}))};let{bikeSettings:s}=e,{userSettings:o}=e,l=480,{power:r=0}=e;const c=L();let a,u,d,f,h,p,g=0,m=0,v=0,$=0,y=0,w=!1,b=!1,x=0,k=0;function _(){return i(this,void 0,void 0,(function*(){w&&(clearInterval(p),n(5,$=0),yield h.pause(),n(7,h.currentTime=0,h),y=0,n(4,v=0),n(3,m=0),n(2,g=0),w=!1)}))}function C(){console.log("Window size"),window.screen.width/1.666666>window.screen.height?(console.log("1: ",1.666666*window.screen.height),n(1,l=1.666666*window.screen.height)):(console.log("2: ",window.screen.width),n(1,l=window.screen.width)),document.getElementsByClassName("relative").item(0).setAttribute("style","width:"+l+"px")}var S;function N(){(r>5e3||r<0)&&(alert("Not valid number!!"),n(2,g=0),clearInterval(p)),function(t,e,i){let s=0;for(;f[s].sec<y&&s<581;)s++;if(581===s)return n(5,$=0),c("message",{text:Math.round(100*x/k)/100}),n(8,b=!0),void clearInterval(p);let o=f[s].kph;n(5,$=i/o),0!==$&&($<.0625||$>16)&&(alert("Sorry but the speed is too low or too high, the activity will be restarted."),_());y+=$*e}(0,1,g);const t=W(g,1,m);n(2,g=function(t,e,n,i){const l=(t/=3.6)>40?400:Math.round(10*t),r=u[l].cr,c=u[l].cx*s.cx,a=.5*(s.bikeWeight+o.riderWeight)*Math.pow(t,2),d=.5*s.wheelsInertia*Math.pow(t,2)/Math.pow(s.wheelsRadius,2),f=s.efficiency*n*e,h=-i*t*n,p=(s.bikeWeight+o.riderWeight)*we*h,g=r*(s.bikeWeight+o.riderWeight)*we*n*t,m=.5*o.rho*c*s.area*Math.pow(t,3)*n;return 3.6*Math.pow(2*(a+d+f+p-m-g)/(s.bikeWeight+o.riderWeight+s.wheelsInertia/Math.pow(s.wheelsRadius,2)),.5)}(g,r,1,t)),console.log(g),n(4,v++,v),n(3,m+=g/3.6)}function W(t,e,n){t/=3.6;let i=Math.round(t*e+n),s=0;for(let t=n=Math.round(n);t<i;t++)s+=t<d.length-1?parseFloat(d[t]):0;return i!==n?-s/(i-n):0}return R(()=>i(void 0,void 0,void 0,(function*(){C(),window.onresize=C;let t=yield fetch("data/"+s.coefficientsFile);u=yield t.json(),t=yield fetch("data/slope.txt");const e=yield t.text();d=yield e.split("\n"),t=yield fetch("data/19-09-19-am-gallo_t2.json"),f=yield t.json(),yield function(){return i(this,void 0,void 0,(function*(){w||(n(5,$=0),yield h.play(),w=!0,p=setInterval(N,1e3))}))}(),n(8,b=!1),console.log(document.getElementsByClassName("relative").length)}))),S=()=>{clearInterval(p),window.onresize=null},A().$$.on_destroy.push(S),t.$set=t=>{"bikeSettings"in t&&n(9,s=t.bikeSettings),"userSettings"in t&&n(10,o=t.userSettings),"power"in t&&n(0,r=t.power)},t.$$.update=()=>{3145740&t.$$.dirty&&(m>6575&&m<be?n(6,a=`Distance to GO ${Math.round(be-m)}m`):m>=be&&m<=xe?(n(6,a=`Distance to END ${Math.round(xe-m)}m`),n(20,x+=g),n(21,k++,k),console.log(x,"",k)):m>xe?n(6,a="Slow down before catching! 😁🎳"):(n(6,a=""),n(21,k=0),n(20,x=0)))},[r,l,g,m,v,$,a,h,b,s,o,_,function(t){J[t?"unshift":"push"](()=>{h=t,n(7,h)})},function(){$=this.playbackRate,n(5,$)}]}class _e extends bt{constructor(t){super(),wt(this,t,ke,ye,r,{bikeSettings:9,userSettings:10,power:0,reset:11})}get reset(){return this.$$.ctx[11]}}class Ce{constructor(t,e,n,i,s="",o="",l="",r="",c=!1){this.firstName=s,this.lastName=o,this.email=l,this.speed=t,this.bikeName=i,this.bikeSettings=e,this.userSettings=n,this.expanded=c,r.concat(" ");const a=r.split(/[- :]/);console.log(r),console.log(a),this.datetime=new Date(Date.UTC(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]),Number(a[4]),Number(a[5])))}get date(){return`${this.datetime.getDate()}/${this.datetime.getMonth()}/${this.datetime.getFullYear()}`}checkTime(t){return t<10?"0"+t:t}get time(){return`${this.checkTime(this.datetime.getHours())}:${this.checkTime(this.datetime.getMinutes())}`}}function Se(e){let n,i,s;return{c(){n=w("h1"),n.textContent="One more step",i=k(),s=w("p"),s.textContent="Check your mail and confirm your attempt. You will become visible on\n      result as soon you confirm it.",S(n,"class","svelte-1njez97")},m(t,e){v(t,n,e),v(t,i,e),v(t,s,e)},p:t,d(t){t&&$(n),t&&$(i),t&&$(s)}}}function Ne(t){let e,n,i,s,l,r,c,a,u,d,f,h,p,g,y,b,x,_,N,W,B,j,O,E,q;return{c(){e=w("h1"),e.textContent="Save your result",n=k(),i=w("p"),i.textContent="We need some information to add your attempt to our results list.",s=k(),l=w("form"),r=w("div"),c=w("label"),c.textContent="First name",a=k(),u=w("input"),d=k(),f=w("div"),h=w("label"),h.textContent="Last name",p=k(),g=w("input"),y=k(),b=w("div"),x=w("label"),x.textContent="Email",_=k(),N=w("input"),W=k(),B=w("p"),j=k(),O=w("input"),S(e,"class","svelte-1njez97"),S(c,"for","firstName"),S(c,"class","svelte-1njez97"),u.required=!0,S(u,"id","firstName"),S(u,"type","text"),S(r,"class","formData svelte-1njez97"),S(h,"for","lastName"),S(h,"class","svelte-1njez97"),g.required=!0,S(g,"id","lastName"),S(g,"type","text"),S(f,"class","formData svelte-1njez97"),S(x,"for","email"),S(x,"class","svelte-1njez97"),N.required=!0,S(N,"id","email"),S(N,"type","email"),S(b,"class","formData svelte-1njez97"),S(B,"value",t[2]),S(O,"class","btn right svelte-1njez97"),S(O,"type","submit"),O.value="Send",S(l,"class","svelte-1njez97")},m(o,$){var w;v(o,e,$),v(o,n,$),v(o,i,$),v(o,s,$),v(o,l,$),m(l,r),m(r,c),m(r,a),m(r,u),M(u,t[3].firstName),m(l,d),m(l,f),m(f,h),m(f,p),m(f,g),M(g,t[3].lastName),m(l,y),m(l,b),m(b,x),m(b,_),m(b,N),M(N,t[3].email),m(l,W),m(l,B),m(l,j),m(l,O),E||(q=[C(u,"input",t[9]),C(g,"input",t[10]),C(N,"input",t[11]),C(l,"submit",(w=t[5],function(t){return t.preventDefault(),w.call(this,t)}))],E=!0)},p(t,e){8&e&&u.value!==t[3].firstName&&M(u,t[3].firstName),8&e&&g.value!==t[3].lastName&&M(g,t[3].lastName),8&e&&N.value!==t[3].email&&M(N,t[3].email),4&e&&S(B,"value",t[2])},d(t){t&&$(e),t&&$(n),t&&$(i),t&&$(s),t&&$(l),E=!1,o(q)}}}function We(t){let e,n,i,s,o,l,r,c,a,u,d,f,h,p,g,y,b,_,N,W,M=Math.round(.621371*t[0]*100)/100+"";return{c(){e=w("h1"),e.textContent="🎉 Congratulations 🍾",n=k(),i=w("p"),i.textContent="Your speed is",s=k(),o=w("p"),l=w("span"),r=x(t[0]),c=x(" km/h"),a=k(),u=w("p"),d=k(),f=w("p"),h=w("span"),p=x("("),g=x(M),y=x("mph)"),b=k(),_=w("button"),_.textContent="Save your result",S(e,"class","svelte-1njez97"),S(l,"class","speed svelte-1njez97"),S(h,"class","mph svelte-1njez97"),S(_,"class","btn svelte-1njez97")},m($,w){v($,e,w),v($,n,w),v($,i,w),v($,s,w),v($,o,w),m(o,l),m(l,r),m(l,c),v($,a,w),v($,u,w),v($,d,w),v($,f,w),m(f,h),m(h,p),m(h,g),m(h,y),v($,b,w),v($,_,w),N||(W=C(_,"click",t[4]),N=!0)},p(t,e){1&e&&B(r,t[0]),1&e&&M!==(M=Math.round(.621371*t[0]*100)/100+"")&&B(g,M)},d(t){t&&$(e),t&&$(n),t&&$(i),t&&$(s),t&&$(o),t&&$(a),t&&$(u),t&&$(d),t&&$(f),t&&$(b),t&&$(_),N=!1,W()}}}function Be(e){let n;function i(t,e){return 0===t[1]?We:1===t[1]?Ne:Se}let s=i(e),o=s(e);return{c(){n=w("section"),o.c()},m(t,e){v(t,n,e),o.m(n,null)},p(t,[e]){s===(s=i(t))&&o?o.p(t,e):(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},i:t,o:t,d(t){t&&$(n),o.d()}}}function Me(t,e,n){L();let{speed:i}=e,{bikeName:s}=e,{config:o}=e,{userConfig:l}=e,r=0,c="";const a=()=>{n(1,r++,r)};let u;return R(()=>n(3,u=new Ce(i,o,l,s))),t.$set=t=>{"speed"in t&&n(0,i=t.speed),"bikeName"in t&&n(6,s=t.bikeName),"config"in t&&n(7,o=t.config),"userConfig"in t&&n(8,l=t.userConfig)},[i,r,c,u,a,function(){console.log(u),fetch("https://www.policumbent.it/whpsc_sim_backend/upload_result.php",{method:"POST",body:JSON.stringify(u)}).then(t=>{200===t.status&&a(),console.log(t)}).catch(t=>n(2,c=t))},s,o,l,function(){u.firstName=this.value,n(3,u)},function(){u.lastName=this.value,n(3,u)},function(){u.email=this.value,n(3,u)}]}class je extends bt{constructor(t){super(),wt(this,t,Me,Be,r,{speed:0,bikeName:6,config:7,userConfig:8})}}class Oe extends class{constructor(){this.listeners={},this.listeners={},this.timeoutID=void 0,this.milliTimeout=8e3}clearValueOnTimeout(t){void 0!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{if(this.timeoutID=void 0,t.constructor===Array)for(let e of t)this.dispatch(0);else this.dispatch(0)},this.milliTimeout)}}{constructor(t,e,n,i){super(),this.device=t,this.server=e,this.service=n,this.characteristic=i,this.name=this.device.name,this.id=this.device.id,this.listening=!1,this.device.addEventListener("gattserverdisconnected",t=>{this.gattServerDisconnected(t).catch(t=>{console.log("Error: ",t)})})}async gattServerDisconnected(t){console.log("Reconnecting"),this.server=await this.device.gatt.connect(),this.service=await this.server.getPrimaryService(this.serviceId),this.characteristic=await this.service.getCharacteristic(this.characteristicId),this.listening&&(this.listening=!1,this.listen())}}class Ee extends Oe{constructor(t,e,n,i){super(t,e,n,i),this.serviceId=6157,this.characteristicId=10807}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=t.target.value.getUint8(1);console.log(e),this.dispatch(e),this.clearValueOnTimeout("hr")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("hr "+t),ue.set(t)}}class qe extends class{getData(t){let e,n=0;16===this.mask_size?(e=t.getUint16(0,!0),n+=2):(e=t.getUint8(0),n+=1);let i=[];if(0===this.fields[0][0])for(let t of this.fields[0][1])i.push(t);for(let[t,n]of this.fields)if(e&t)for(let t of n)i.push(t);let s={};for(let e of i){var[[o,l,r],c]=e;let i;i=r?t[o](n,r):t[o](n),s[c]=i,n+=l}return s}}{constructor(){super(),this.fields=De,this.mask_size=16}}const ze=["getInt16",2,!0],Ie=["getUint16",2,!0],De=[[0,[[ze,"instantaneous_power"]]],[1,[[["getUint8",1],"pedal_power_balance"]]],[2,[]],[4,[[Ie,"accumulated_torque"]]],[8,[]],[16,[[["getUint32",4,!0],"cumulative_wheel_revolutions"],[Ie,"last_wheel_event_time"]]],[32,[[Ie,"cumulative_crank_revolutions"],[Ie,"last_crank_event_time"]]],[64,[[ze,"maximum_force_magnitude"],[ze,"minimum_force_magnitude"]]],[128,[[ze,"maximum_torque_magnitude"],[ze,"minimum_torque_magnitude"]]],[256,[[["getUint8",3],"maximum_minimum_angle"]]],[512,[[Ie,"top_dead_spot_angle"]]],[1024,[[Ie,"bottom_dead_spot_angle"]]],[2048,[[Ie,"accumulated_energy"]]],[4096,[]]];class Pe extends Oe{constructor(t,e,n,i){super(t,e,n,i),this.serviceId=6168,this.characteristicId=10851,this.parser=new qe}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=this.parser.getData(t.target.value).instantaneous_power;this.dispatch(e),this.clearValueOnTimeout("power")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("power "+t),de.set(t)}}let Te,Ae;function Re(e){let n,i,s,o,l,r,c,a,u,d,f,h,p=e[0].bikeName+"",g=e[0].description+"";return{c(){n=w("div"),i=w("label"),s=x(p),o=k(),l=w("img"),a=k(),u=w("p"),d=x(g),S(i,"class","svelte-1absjfa"),S(l,"class","image svelte-1absjfa"),l.src!==(r=e[0].imgSrc)&&S(l,"src",r),S(l,"alt",c=e[0].bikeName+" image"),S(u,"class","svelte-1absjfa"),S(n,"class","container svelte-1absjfa")},m(t,r){v(t,n,r),m(n,i),m(i,s),m(n,o),m(n,l),m(n,a),m(n,u),m(u,d),f||(h=C(n,"click",e[1]),f=!0)},p(t,[e]){1&e&&p!==(p=t[0].bikeName+"")&&B(s,p),1&e&&l.src!==(r=t[0].imgSrc)&&S(l,"src",r),1&e&&c!==(c=t[0].bikeName+" image")&&S(l,"alt",c),1&e&&g!==(g=t[0].description+"")&&B(d,g)},i:t,o:t,d(t){t&&$(n),f=!1,h()}}}function Le(t,e,n){let{bike:i}=e;return t.$set=t=>{"bike"in t&&n(0,i=t.bike)},[i,function(e){U(t,e)}]}class Fe extends bt{constructor(t){super(),wt(this,t,Le,Re,r,{bike:0})}}function He(t,e,n){const i=t.slice();return i[7]=e[n],i}function Ue(t){let e,n;return e=new Fe({props:{bike:t[7]}}),e.$on("click",(function(...e){return t[2](t[7],...e)})),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(n,i){t=n;const s={};1&i&&(s.bike=t[7]),e.$set(s)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function Ye(t){let e,n,i,s,o,l=t[0],r=[];for(let e=0;e<l.length;e+=1)r[e]=Ue(He(t,l,e));const c=t=>dt(r[t],1,1,()=>{r[t]=null});return{c(){e=w("div"),n=w("div");for(let t=0;t<r.length;t+=1)r[t].c();S(n,"class","content svelte-ux39qb"),S(e,"class","back svelte-ux39qb")},m(l,c){v(l,e,c),m(e,n);for(let t=0;t<r.length;t+=1)r[t].m(n,null);i=!0,s||(o=C(e,"click",t[3]),s=!0)},p(t,[e]){if(3&e){let i;for(l=t[0],i=0;i<l.length;i+=1){const s=He(t,l,i);r[i]?(r[i].p(s,e),ut(r[i],1)):(r[i]=Ue(s),r[i].c(),ut(r[i],1),r[i].m(n,null))}for(ct(),i=l.length;i<r.length;i+=1)c(i);at()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)ut(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)dt(r[t]);i=!1},d(t){t&&$(e),y(r,t),s=!1,o()}}}function Je(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function l(t){try{c(i.next(t))}catch(t){o(t)}}function r(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,r)}c((i=i.apply(t,e||[])).next())}))};const s=L(),o=new ae("Custom","img/gear.svg","Your custom settings",ge());let l=[new ae("Taurus","img/taurus.svg","A very fast streamliner",new re(30,.09,1.45,.96,.29,.04,"coefficients4.json")),new ae("Coral","img/recumbent.svg","A recumbent bike",new re(14,.091,1.45,.97,.32,.6,"coefficients_normal_bike.json")),new ae("Road Bike","img/normal.svg","A road bike",new re(7.5,.0786,2.105,.98,.43,.8,"coefficients_normal_bike.json"))];function r(t){console.log(t),s("message",{text:t})}R(()=>i(void 0,void 0,void 0,(function*(){n(0,l=function(t){let e,n=[],i=t.length;for(;i;)e=Math.floor(Math.random()*t.length),e in t&&(n.push(t[e]),delete t[e],i--);return n}(l)),l.push(o)})));return[l,r,t=>r(t),()=>r(null)]}class Ge extends bt{constructor(t){super(),wt(this,t,Je,Ye,r,{})}}function Ke(t){let e,n,i,s,l,r,c,a,u,d,f,h,p,g,y,b,_,N,W,j,O,E,q,z,I,D,P,T,A,R,L,F,H,U,Y,J,G,K,V,Z,Q,tt,et,nt,it,st,ot,lt,rt,ct,at,ut,dt,ft,pt,gt,mt,vt,$t,yt,wt,bt,xt,kt,_t,Ct,St,Nt,Wt,Bt,Mt,jt,Ot,Et,qt,zt,It,Dt,Pt,Tt,At,Rt;return{c(){e=w("nav"),n=w("div"),i=w("label"),i.textContent="Your settings:",s=k(),l=w("label"),r=x("Rider weight: "),c=x(t[2]),a=x("kg"),u=k(),d=w("input"),f=k(),h=w("label"),p=x("Rider height: "),g=x(t[10]),y=x("cm"),b=k(),_=w("input"),N=k(),W=w("label"),j=x("Air Density: "),O=x(t[7]),E=k(),q=w("input"),z=k(),I=w("hr"),D=k(),P=w("div"),T=w("label"),T.textContent="Custom bike settings:",A=k(),R=w("label"),L=x("Bike weight: "),F=x(t[1]),H=x("kg"),U=k(),Y=w("input"),J=k(),G=w("label"),K=x("Wheels Inertia: "),V=x(t[3]),Z=k(),Q=w("input"),tt=k(),et=w("label"),nt=x("Efficiency: "),it=x(t[5]),st=k(),ot=w("input"),lt=k(),rt=w("label"),ct=x("Wheels Circumference: "),at=x(t[4]),ut=x("m"),dt=k(),ft=w("input"),pt=k(),gt=w("label"),mt=x("Area: "),vt=x(t[6]),$t=x("m²"),yt=k(),wt=w("input"),bt=k(),xt=w("label"),kt=x("Cx @120km/h: "),_t=x(t[9]),Ct=k(),St=w("input"),Nt=k(),Wt=w("hr"),Bt=k(),Mt=w("div"),jt=w("label"),jt.textContent="Software settings:",Ot=k(),Et=w("label"),Et.textContent="Debug:",qt=k(),zt=w("input"),It=k(),Dt=w("button"),Dt.textContent="Save",S(i,"class","group_label svelte-lxcui3"),S(l,"for","rider_weight"),S(d,"class","slider svelte-lxcui3"),S(d,"id","rider_weight"),S(d,"type","range"),S(d,"step","0.5"),S(d,"min","40"),S(d,"max","100"),S(h,"for","rider_height"),S(_,"class","slider svelte-lxcui3"),S(_,"id","rider_height"),S(_,"type","range"),S(_,"step","1"),S(_,"min","100"),S(_,"max","250"),S(W,"for","air_density"),S(q,"class","slider svelte-lxcui3"),S(q,"id","air_density"),S(q,"type","range"),S(q,"step","0.0001"),S(q,"min","0.8"),S(q,"max","1.2"),S(n,"class","sliders_div svelte-lxcui3"),S(I,"class","solid svelte-lxcui3"),S(T,"class","group_label svelte-lxcui3"),S(R,"for","bike_weight"),S(Y,"class","slider svelte-lxcui3"),S(Y,"id","bike_weight"),S(Y,"type","range"),S(Y,"min","1"),S(Y,"max","200"),S(G,"for","wheels_inertia"),S(Q,"class","slider svelte-lxcui3"),S(Q,"id","wheels_inertia"),S(Q,"type","range"),S(Q,"step","0.001"),S(Q,"min","0.001"),S(Q,"max","0.1"),S(et,"for","efficiency"),S(ot,"class","slider svelte-lxcui3"),S(ot,"id","efficiency"),S(ot,"type","range"),S(ot,"step","0.01"),S(ot,"min","0.8"),S(ot,"max","1"),S(rt,"for","wheels_circumference"),S(ft,"class","slider svelte-lxcui3"),S(ft,"id","wheels_circumference"),S(ft,"type","range"),S(ft,"step","0.001"),S(ft,"min","1"),S(ft,"max","2.5"),S(gt,"for","area"),S(wt,"class","slider svelte-lxcui3"),S(wt,"id","area"),S(wt,"type","range"),S(wt,"step","0.00001"),S(wt,"min","0"),S(wt,"max","2"),S(xt,"for","cx"),S(St,"class","slider svelte-lxcui3"),S(St,"id","cx"),S(St,"type","range"),S(St,"step","0.0001"),S(St,"min","0.02"),S(St,"max","1.2"),S(P,"class","sliders_div svelte-lxcui3"),S(Wt,"class","solid svelte-lxcui3"),S(jt,"class","group_label svelte-lxcui3"),S(Et,"class","checkbox svelte-lxcui3"),S(Et,"for","debug"),S(zt,"class","checkbox svelte-lxcui3"),S(zt,"id","debug"),S(zt,"type","checkbox"),S(Mt,"class","sliders_div svelte-lxcui3"),S(Dt,"class","svelte-lxcui3"),S(e,"class","svelte-lxcui3")},m(o,$){v(o,e,$),m(e,n),m(n,i),m(n,s),m(n,l),m(l,r),m(l,c),m(l,a),m(n,u),m(n,d),M(d,t[2]),m(n,f),m(n,h),m(h,p),m(h,g),m(h,y),m(n,b),m(n,_),M(_,t[10]),m(n,N),m(n,W),m(W,j),m(W,O),m(n,E),m(n,q),M(q,t[7]),m(e,z),m(e,I),m(e,D),m(e,P),m(P,T),m(P,A),m(P,R),m(R,L),m(R,F),m(R,H),m(P,U),m(P,Y),M(Y,t[1]),m(P,J),m(P,G),m(G,K),m(G,V),m(P,Z),m(P,Q),M(Q,t[3]),m(P,tt),m(P,et),m(et,nt),m(et,it),m(P,st),m(P,ot),M(ot,t[5]),m(P,lt),m(P,rt),m(rt,ct),m(rt,at),m(rt,ut),m(P,dt),m(P,ft),M(ft,t[4]),m(P,pt),m(P,gt),m(gt,mt),m(gt,vt),m(gt,$t),m(P,yt),m(P,wt),M(wt,t[6]),m(P,bt),m(P,xt),m(xt,kt),m(xt,_t),m(P,Ct),m(P,St),M(St,t[9]),m(e,Nt),m(e,Wt),m(e,Bt),m(e,Mt),m(Mt,jt),m(Mt,Ot),m(Mt,Et),m(Mt,qt),m(Mt,zt),zt.checked=t[8],m(e,It),m(e,Dt),Tt=!0,At||(Rt=[C(d,"change",t[12]),C(d,"input",t[12]),C(_,"change",t[13]),C(_,"input",t[13]),C(q,"change",t[14]),C(q,"input",t[14]),C(Y,"change",t[15]),C(Y,"input",t[15]),C(Q,"change",t[16]),C(Q,"input",t[16]),C(ot,"change",t[17]),C(ot,"input",t[17]),C(ft,"change",t[18]),C(ft,"input",t[18]),C(wt,"change",t[19]),C(wt,"input",t[19]),C(St,"change",t[20]),C(St,"input",t[20]),C(zt,"change",t[21]),C(Dt,"click",t[11])],At=!0)},p(t,e){(!Tt||4&e)&&B(c,t[2]),4&e&&M(d,t[2]),(!Tt||1024&e)&&B(g,t[10]),1024&e&&M(_,t[10]),(!Tt||128&e)&&B(O,t[7]),128&e&&M(q,t[7]),(!Tt||2&e)&&B(F,t[1]),2&e&&M(Y,t[1]),(!Tt||8&e)&&B(V,t[3]),8&e&&M(Q,t[3]),(!Tt||32&e)&&B(it,t[5]),32&e&&M(ot,t[5]),(!Tt||16&e)&&B(at,t[4]),16&e&&M(ft,t[4]),(!Tt||64&e)&&B(vt,t[6]),64&e&&M(wt,t[6]),(!Tt||512&e)&&B(_t,t[9]),512&e&&M(St,t[9]),256&e&&(zt.checked=t[8])},i(t){Tt||(X(()=>{Pt||(Pt=ht(e,Zt,{x:250,opacity:1},!0)),Pt.run(1)}),Tt=!0)},o(t){Pt||(Pt=ht(e,Zt,{x:250,opacity:1},!1)),Pt.run(0),Tt=!1},d(t){t&&$(e),t&&Pt&&Pt.end(),At=!1,o(Rt)}}}function Ve(t){let e,n,i=t[0]&&Ke(t);return{c(){i&&i.c(),e=_()},m(t,s){i&&i.m(t,s),v(t,e,s),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&ut(i,1)):(i=Ke(t),i.c(),ut(i,1),i.m(e.parentNode,e)):i&&(ct(),dt(i,1,1,()=>{i=null}),at())},i(t){n||(ut(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&$(e)}}}function Ze(t,e,n){let i,s,o,l,r,c,a,u,d,f,h,p,{show:g=!1}=e,m=!1;return R(()=>{i=ge(),s=me(),m=pe(),n(1,o=i.bikeWeight),n(2,l=s.riderWeight),n(10,p=s.riderHeight),n(3,r=i.wheelsInertia),n(4,c=i.wheelsCircumference),n(5,a=i.efficiency),n(6,u=i.area),n(7,d=s.rho),n(9,h=i.cx),n(8,f=m)}),t.$set=t=>{"show"in t&&n(0,g=t.show)},[g,o,l,r,c,a,u,d,f,h,p,function(){var t;t=new re(o,r,c,a,u,h,"coefficients4.json"),localStorage.setItem("bike_settings",JSON.stringify(t)),(t=>{localStorage.setItem("debug",t)})(f),(t=>{localStorage.setItem("user_settings",JSON.stringify(t))})(new ce(l,p,d)),n(0,g=!1),f!==m&&window.location.reload()},function(){l=W(this.value),n(2,l)},function(){p=W(this.value),n(10,p)},function(){d=W(this.value),n(7,d)},function(){o=W(this.value),n(1,o)},function(){r=W(this.value),n(3,r)},function(){a=W(this.value),n(5,a)},function(){c=W(this.value),n(4,c)},function(){u=W(this.value),n(6,u)},function(){h=W(this.value),n(9,h)},function(){f=this.checked,n(8,f)}]}class Xe extends bt{constructor(t){super(),wt(this,t,Ze,Ve,r,{show:0})}}function Qe(t){let e;let n=(window.screen.width>550?en:tn)(t);return{c(){e=w("table"),n.c(),S(e,"class","svelte-upcyrp")},m(t,i){v(t,e,i),n.m(e,null)},p(t,e){n.p(t,e)},d(t){t&&$(e),n.d()}}}function tn(t){let e,n,i,s,o,l,r,c,a,u,d,f,h,p,g,y,b,_,C,N,W,M,j,O,E,q,z,I,D,P,T,A,R,L,F,H,U,Y,J,G,K,V,Z,X,Q=t[0].bikeSettings.bikeWeight+"",tt=t[0].bikeSettings.wheelsInertia+"",et=t[0].bikeSettings.wheelsCircumference+"",nt=t[0].bikeSettings.efficiency+"",it=t[0].bikeSettings.area+"",st=t[0].userSettings.rho+"",ot=t[0].bikeSettings.cx+"";return{c(){e=w("tr"),n=w("th"),n.textContent="Bike Weight",i=k(),s=w("td"),o=x(Q),l=x("kg"),r=k(),c=w("tr"),a=w("th"),a.textContent="Wheels Inertia",u=k(),d=w("td"),f=x(tt),h=k(),p=w("tr"),g=w("th"),g.textContent="Wheels Circumference",y=k(),b=w("td"),_=x(et),C=x("m"),N=k(),W=w("tr"),M=w("th"),M.textContent="Efficiency",j=k(),O=w("td"),E=x(nt),q=k(),z=w("tr"),I=w("th"),I.textContent="Area",D=k(),P=w("td"),T=x(it),A=x("m²"),R=k(),L=w("tr"),F=w("th"),F.textContent="Rho",H=k(),U=w("td"),Y=x(st),J=k(),G=w("tr"),K=w("th"),K.textContent="Cx",V=k(),Z=w("td"),X=x(ot),S(n,"class","svelte-upcyrp"),S(a,"class","svelte-upcyrp"),S(g,"class","svelte-upcyrp"),S(M,"class","svelte-upcyrp"),S(I,"class","svelte-upcyrp"),S(F,"class","svelte-upcyrp"),S(K,"class","svelte-upcyrp")},m(t,$){v(t,e,$),m(e,n),m(e,i),m(e,s),m(s,o),m(s,l),v(t,r,$),v(t,c,$),m(c,a),m(c,u),m(c,d),m(d,f),v(t,h,$),v(t,p,$),m(p,g),m(p,y),m(p,b),m(b,_),m(b,C),v(t,N,$),v(t,W,$),m(W,M),m(W,j),m(W,O),m(O,E),v(t,q,$),v(t,z,$),m(z,I),m(z,D),m(z,P),m(P,T),m(P,A),v(t,R,$),v(t,L,$),m(L,F),m(L,H),m(L,U),m(U,Y),v(t,J,$),v(t,G,$),m(G,K),m(G,V),m(G,Z),m(Z,X)},p(t,e){1&e&&Q!==(Q=t[0].bikeSettings.bikeWeight+"")&&B(o,Q),1&e&&tt!==(tt=t[0].bikeSettings.wheelsInertia+"")&&B(f,tt),1&e&&et!==(et=t[0].bikeSettings.wheelsCircumference+"")&&B(_,et),1&e&&nt!==(nt=t[0].bikeSettings.efficiency+"")&&B(E,nt),1&e&&it!==(it=t[0].bikeSettings.area+"")&&B(T,it),1&e&&st!==(st=t[0].userSettings.rho+"")&&B(Y,st),1&e&&ot!==(ot=t[0].bikeSettings.cx+"")&&B(X,ot)},d(t){t&&$(e),t&&$(r),t&&$(c),t&&$(h),t&&$(p),t&&$(N),t&&$(W),t&&$(q),t&&$(z),t&&$(R),t&&$(L),t&&$(J),t&&$(G)}}}function en(t){let e,n,i,s,o,l,r,c,a,u,d,f,h,p,g,y,b,_,C,S,N,W,M,j,O,E,q=t[0].bikeSettings.bikeWeight+"",z=t[0].bikeSettings.wheelsInertia+"",I=t[0].bikeSettings.wheelsCircumference+"",D=t[0].bikeSettings.efficiency+"",P=t[0].bikeSettings.area+"",T=t[0].userSettings.rho+"",A=t[0].bikeSettings.cx+"";return{c(){e=w("tr"),e.innerHTML='<th class="svelte-upcyrp">Bike Weight</th> \n            <th class="svelte-upcyrp">Wheels Inertia</th> \n            <th class="svelte-upcyrp">Wheels Circumference</th> \n            <th class="svelte-upcyrp">Efficiency</th> \n            <th class="svelte-upcyrp">Area</th> \n            <th class="svelte-upcyrp">Rho</th> \n            <th class="svelte-upcyrp">Cx</th>',n=k(),i=w("tr"),s=w("td"),o=x(q),l=x("kg"),r=k(),c=w("td"),a=x(z),u=k(),d=w("td"),f=x(I),h=x("m"),p=k(),g=w("td"),y=x(D),b=k(),_=w("td"),C=x(P),S=x("m²"),N=k(),W=w("td"),M=x(T),j=k(),O=w("td"),E=x(A)},m(t,$){v(t,e,$),v(t,n,$),v(t,i,$),m(i,s),m(s,o),m(s,l),m(i,r),m(i,c),m(c,a),m(i,u),m(i,d),m(d,f),m(d,h),m(i,p),m(i,g),m(g,y),m(i,b),m(i,_),m(_,C),m(_,S),m(i,N),m(i,W),m(W,M),m(i,j),m(i,O),m(O,E)},p(t,e){1&e&&q!==(q=t[0].bikeSettings.bikeWeight+"")&&B(o,q),1&e&&z!==(z=t[0].bikeSettings.wheelsInertia+"")&&B(a,z),1&e&&I!==(I=t[0].bikeSettings.wheelsCircumference+"")&&B(f,I),1&e&&D!==(D=t[0].bikeSettings.efficiency+"")&&B(y,D),1&e&&P!==(P=t[0].bikeSettings.area+"")&&B(C,P),1&e&&T!==(T=t[0].userSettings.rho+"")&&B(M,T),1&e&&A!==(A=t[0].bikeSettings.cx+"")&&B(E,A)},d(t){t&&$(e),t&&$(n),t&&$(i)}}}function nn(e){let n,i,s,o,l,r,c,a,u,d,f,h,p,g,y,b,_,N,W,M,O,E,q,z,I,D=Math.trunc(e[0].speed)+"",P=Math.round(100*(e[0].speed-Math.trunc(e[0].speed)))+"",T=e[0].bikeName+"",A=e[0].firstName+"",R=e[0].lastName+"",L=e[0].time+"",F=e[0].date+"",H=e[0].expanded&&Qe(e);return{c(){n=w("div"),i=w("div"),s=w("div"),o=w("span"),l=w("em"),r=x(D),c=x("\n        ."),a=x(P),u=x(" km/h"),d=k(),f=w("span"),h=x(T),p=k(),g=w("span"),y=x(A),b=k(),_=x(R),N=k(),H&&H.c(),W=k(),M=w("span"),O=x(L),E=k(),q=x(F),S(l,"class","big svelte-upcyrp"),S(o,"class","middle_top svelte-upcyrp"),S(f,"class","middle_bottom svelte-upcyrp"),S(s,"class","left30 svelte-upcyrp"),S(g,"class","top right svelte-upcyrp"),S(M,"class","right bottom svelte-upcyrp"),S(i,"class","container svelte-upcyrp"),j(i,"height",e[0].expanded?e[2]:e[1])},m(t,$){v(t,n,$),m(n,i),m(i,s),m(s,o),m(o,l),m(l,r),m(o,c),m(o,a),m(o,u),m(s,d),m(s,f),m(f,h),m(i,p),m(i,g),m(g,y),m(g,b),m(g,_),m(i,N),H&&H.m(i,null),m(i,W),m(i,M),m(M,O),m(M,E),m(M,q),z||(I=C(i,"click",e[3]),z=!0)},p(t,[e]){1&e&&D!==(D=Math.trunc(t[0].speed)+"")&&B(r,D),1&e&&P!==(P=Math.round(100*(t[0].speed-Math.trunc(t[0].speed)))+"")&&B(a,P),1&e&&T!==(T=t[0].bikeName+"")&&B(h,T),1&e&&A!==(A=t[0].firstName+"")&&B(y,A),1&e&&R!==(R=t[0].lastName+"")&&B(_,R),t[0].expanded?H?H.p(t,e):(H=Qe(t),H.c(),H.m(i,W)):H&&(H.d(1),H=null),1&e&&L!==(L=t[0].time+"")&&B(O,L),1&e&&F!==(F=t[0].date+"")&&B(q,F),1&e&&j(i,"height",t[0].expanded?t[2]:t[1])},i:t,o:t,d(t){t&&$(n),H&&H.d(),z=!1,I()}}}function sn(t,e,n){let{result:i}=e;const s=window.innerWidth<550?"150px":"100px",o=window.innerWidth<550?"330px":"200px";return t.$set=t=>{"result"in t&&n(0,i=t.result)},[i,s,o,function(e){U(t,e)}]}class on extends bt{constructor(t){super(),wt(this,t,sn,nn,r,{result:0})}}function ln(t,e,n){const i=t.slice();return i[3]=e[n],i}function rn(t){let e,n;return e=new on({props:{result:t[3]}}),e.$on("click",(function(...e){return t[2](t[3],...e)})),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(n,i){t=n;const s={};1&i&&(s.result=t[3]),e.$set(s)},i(t){n||(ut(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function cn(t){let e,n,i,s,o,l=t[0],r=[];for(let e=0;e<l.length;e+=1)r[e]=rn(ln(t,l,e));const c=t=>dt(r[t],1,1,()=>{r[t]=null});return{c(){e=w("div"),n=w("h1"),n.textContent="Results",i=k(),s=w("div");for(let t=0;t<r.length;t+=1)r[t].c();S(n,"class","svelte-iun13g"),S(s,"class","scroller svelte-iun13g"),S(e,"class","container svelte-iun13g")},m(t,l){v(t,e,l),m(e,n),m(e,i),m(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);o=!0},p(t,[e]){if(3&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const i=ln(t,l,n);r[n]?(r[n].p(i,e),ut(r[n],1)):(r[n]=rn(i),r[n].c(),ut(r[n],1),r[n].m(s,null))}for(ct(),n=l.length;n<r.length;n+=1)c(n);at()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)ut(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)dt(r[t]);o=!1},d(t){t&&$(e),y(r,t)}}}function an(t,e,n){const i=t=>{const e=t.expanded;s.forEach(t=>t.expanded=!1),t.expanded=!e,n(0,s=[...s])};let s=[];R(()=>{new Headers;fetch("https://www.policumbent.it/whpsc_sim_backend/results.php",{cache:"no-store"}).then(t=>t.json()).then(t=>{let e=[];return t.forEach(t=>{const n=new re(t.bikeSettings.bikeWeight,t.bikeSettings.wheelsInertia,t.bikeSettings.wheelsCircumference,t.bikeSettings.efficiency,t.bikeSettings.area,t.bikeSettings.cx,void 0),i=new ce(void 0,void 0,t.bikeSettings.rho);e.push(new Ce(t.speed,n,i,t.bikeName,t.firstName,t.lastName,"",t.timestamp))}),n(0,s=e.sort((t,e)=>e.datetime.getTime()-t.datetime.getTime())),e[0].expanded=!0,e})});return[s,i,t=>i(t)]}class un extends bt{constructor(t){super(),wt(this,t,an,cn,r,{})}}function dn(e){let n,i=e[1]()+"";return{c(){n=x(i)},m(t,e){v(t,n,e)},p:t,d(t){t&&$(n)}}}function fn(e){let n,i=e[0]&&dn(e);return{c(){i&&i.c(),n=_()},m(t,e){i&&i.m(t,e),v(t,n,e)},p(t,[e]){t[0]?i?i.p(t,e):(i=dn(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){i&&i.d(t),t&&$(n)}}}function hn(t,e,n){const{open:i}=H("simple-modal");let{show:s}=e;return t.$set=t=>{"show"in t&&n(0,s=t.show)},[s,function(){i(un,{},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!1}),n(0,s=!1)}]}class pn extends bt{constructor(t){super(),wt(this,t,hn,fn,r,{show:0})}}function gn(e){let n,i;return n=new Ge({}),n.$on("message",e[6]),{c(){mt(n.$$.fragment)},m(t,e){vt(n,t,e),i=!0},p:t,i(t){i||(ut(n.$$.fragment,t),i=!0)},o(t){dt(n.$$.fragment,t),i=!1},d(t){$t(n,t)}}}function mn(t){let e,n,i;function s(e){t[10].call(null,e)}let o={};return void 0!==t[2]&&(o.show=t[2]),e=new pn({props:o}),J.push(()=>gt(e,"show",s)),{c(){mt(e.$$.fragment)},m(t,n){vt(e,t,n),i=!0},p(t,i){const s={};!n&&4&i&&(n=!0,s.show=t[2],Q(()=>n=!1)),e.$set(s)},i(t){i||(ut(e.$$.fragment,t),i=!0)},o(t){dt(e.$$.fragment,t),i=!1},d(t){$t(e,t)}}}function vn(t){let e,n,i,s,l,r,c,a,u,d,f,h,p,g,y,b,_,N,W,B,M,j,O,E;function q(e){t[8].call(null,e)}let z={};void 0!==t[0]&&(z.show=t[0]),e=new Xe({props:z}),J.push(()=>gt(e,"show",q)),a=new Yt({props:{class:"top-right-fixed",data:Gt,scale:"2"}});let I=t[1]&&gn(t);return W=new se({props:{$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment),i=k(),s=w("section"),l=w("h1"),l.textContent="WHPSC Simulator",r=k(),c=w("span"),mt(a.$$.fragment),u=k(),d=w("button"),f=x("Start"),p=k(),g=w("button"),g.textContent="Search powermeter",y=k(),I&&I.c(),b=k(),_=w("button"),_.textContent="Results",N=k(),mt(W.$$.fragment),B=k(),M=w("button"),M.textContent="Survey",S(l,"class","svelte-11zid4n"),S(c,"class","top-right-fixed click_t svelte-11zid4n"),S(d,"class","btn svelte-11zid4n"),d.disabled=h=!t[3]&&!pe(),S(g,"class","btn svelte-11zid4n"),S(_,"class","btn results svelte-11zid4n"),S(M,"class","survey btn svelte-11zid4n"),S(s,"class","svelte-11zid4n")},m(n,o){vt(e,n,o),v(n,i,o),v(n,s,o),m(s,l),m(s,r),m(s,c),vt(a,c,null),m(s,u),m(s,d),m(d,f),m(s,p),m(s,g),m(s,y),I&&I.m(s,null),m(s,b),m(s,_),m(s,N),vt(W,s,null),m(s,B),m(s,M),j=!0,O||(E=[C(c,"click",t[9]),C(d,"click",t[4]),C(g,"click",t[7]),C(_,"click",t[5]),C(M,"click",t[11])],O=!0)},p(t,[i]){const o={};!n&&1&i&&(n=!0,o.show=t[0],Q(()=>n=!1)),e.$set(o),(!j||8&i&&h!==(h=!t[3]&&!pe()))&&(d.disabled=h),t[1]?I?(I.p(t,i),2&i&&ut(I,1)):(I=gn(t),I.c(),ut(I,1),I.m(s,b)):I&&(ct(),dt(I,1,1,()=>{I=null}),at());const l={};8196&i&&(l.$$scope={dirty:i,ctx:t}),W.$set(l)},i(t){j||(ut(e.$$.fragment,t),ut(a.$$.fragment,t),ut(I),ut(W.$$.fragment,t),j=!0)},o(t){dt(e.$$.fragment,t),dt(a.$$.fragment,t),dt(I),dt(W.$$.fragment,t),j=!1},d(t){$t(e,t),t&&$(i),t&&$(s),$t(a),I&&I.d(),$t(W),O=!1,o(E)}}}function $n(t,e,n){const i=L();let s=!1,o=!1,l=!1,r=!1;return[s,o,l,r,function(){n(1,o=!0)},function(){n(2,l=!0)},function(t){n(1,o=!1),null!=t.detail.text&&(console.log(t.detail.text),i("message",{text:t.detail.text}))},function(){(async function(){console.log("Requesting Bluetooth Device...");let t=await navigator.bluetooth.requestDevice({filters:[{services:[6157]},{services:[6168]}]}),e=await t.gatt.connect();console.log(t),console.log(e);let n=void 0,i=void 0;try{i=await e.getPrimaryService(6168)}catch(t){console.log(t)}if(i){let s=await i.getCharacteristic(10851);n=new Pe(t,e,i,s),console.log(n),Te=n,n.listen()}i=void 0;try{i=await e.getPrimaryService(6157)}catch(t){console.log(t)}if(i){let s=await i.getCharacteristic(10807);n=new Ee(t,e,i,s),Ae=n,console.log(n),n.listen()}return void 0!==Te||void 0!==Ae})().then(t=>n(3,r=t)).catch(t=>{alert('This functionality is available only in Google Chrome 83+. If you are already using it on Linux the "chrome://flags/#enable-experimental-web-platform-features" flag must be enabled.For further information read this page https://github.com/WebBluetoothCG/web-bluetooth/blob/gh-pages/implementation-status.md'),console.log(t),n(3,r=!1)})},function(t){s=t,n(0,s)},()=>n(0,s=!s),function(t){l=t,n(2,l)},()=>window.open("https://forms.gle/hK2XADnP4FkvjtmD7","_blank")]}class yn extends bt{constructor(t){super(),wt(this,t,$n,vn,r,{})}}function wn(t,e,n){const{open:i}=H("simple-modal");return[(t,e,n,s)=>{console.log("CONFIG:",n),i(je,{speed:t,bikeName:e,config:n,userConfig:s},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!1})}]}class bn extends bt{constructor(t){super(),wt(this,t,wn,null,r,{openModal:0})}get openModal(){return this.$$.ctx[0]}}function xn(t){let e,n,i,s,l=pe();e=new yn({}),e.$on("message",t[5]);let r=l&&function(t){let e,n,i,s,l,r,c,a,u;return{c(){e=w("div"),n=w("label"),i=x("Power Debug Slider: "),s=x(t[0]),l=x("W"),r=k(),c=w("input"),S(n,"id","power_debug_label"),S(n,"for","power_debug"),S(c,"class","slider svelte-asv4hw"),S(c,"id","power_debug"),S(c,"type","range"),S(c,"min","0"),S(c,"max","1000"),S(e,"id","power_debug_div"),S(e,"class","svelte-asv4hw")},m(o,d){v(o,e,d),m(e,n),m(n,i),m(n,s),m(n,l),m(e,r),m(e,c),M(c,t[0]),a||(u=[C(c,"change",t[8]),C(c,"input",t[8])],a=!0)},p(t,e){1&e&&B(s,t[0]),1&e&&M(c,t[0])},d(t){t&&$(e),a=!1,o(u)}}}(t);return{c(){mt(e.$$.fragment),n=k(),r&&r.c(),i=_()},m(t,o){vt(e,t,o),v(t,n,o),r&&r.m(t,o),v(t,i,o),s=!0},p(t,e){l&&r.p(t,e)},i(t){s||(ut(e.$$.fragment,t),s=!0)},o(t){dt(e.$$.fragment,t),s=!1},d(t){$t(e,t),t&&$(n),r&&r.d(t),t&&$(i)}}}function kn(t){let e,n,i,s,o,l,r;n=new Yt({props:{class:"top-right-fixed",data:Jt,scale:"3"}});let c={power:isNaN(t[0])?0:t[0],bikeSettings:t[4].settings,userSettings:me()};return s=new _e({props:c}),t[7](s),s.$on("message",t[6]),{c(){e=w("span"),mt(n.$$.fragment),i=k(),mt(s.$$.fragment),S(e,"class","top-right-fixed svelte-asv4hw")},m(t,c){v(t,e,c),vt(n,e,null),v(t,i,c),vt(s,t,c),o=!0,l||(r=C(e,"click",Sn),l=!0)},p(t,e){const n={};1&e&&(n.power=isNaN(t[0])?0:t[0]),16&e&&(n.bikeSettings=t[4].settings),s.$set(n)},i(t){o||(ut(n.$$.fragment,t),ut(s.$$.fragment,t),o=!0)},o(t){dt(n.$$.fragment,t),dt(s.$$.fragment,t),o=!1},d(o){o&&$(e),$t(n),o&&$(i),t[7](null),$t(s,o),l=!1,r()}}}function _n(t){let e,n,i;function s(e){t[9].call(null,e)}let o={};return void 0!==t[3]&&(o.openModal=t[3]),e=new bn({props:o}),J.push(()=>gt(e,"openModal",s)),{c(){mt(e.$$.fragment)},m(t,n){vt(e,t,n),i=!0},p(t,i){const s={};!n&&8&i&&(n=!0,s.openModal=t[3],Q(()=>n=!1)),e.$set(s)},i(t){i||(ut(e.$$.fragment,t),i=!0)},o(t){dt(e.$$.fragment,t),i=!1},d(t){$t(e,t)}}}function Cn(t){let e,n,i,s,o,l;const r=[kn,xn],c=[];function a(t,e){return t[2]?0:1}return n=a(t),i=c[n]=r[n](t),o=new se({props:{$$slots:{default:[_n]},$$scope:{ctx:t}}}),{c(){e=w("main"),i.c(),s=k(),mt(o.$$.fragment),S(e,"class","svelte-asv4hw")},m(t,i){v(t,e,i),c[n].m(e,null),m(e,s),vt(o,e,null),l=!0},p(t,[l]){let u=n;n=a(t),n===u?c[n].p(t,l):(ct(),dt(c[u],1,1,()=>{c[u]=null}),at(),i=c[n],i||(i=c[n]=r[n](t),i.c()),ut(i,1),i.m(e,s));const d={};4104&l&&(d.$$scope={dirty:l,ctx:t}),o.$set(d)},i(t){l||(ut(i),ut(o.$$.fragment,t),l=!0)},o(t){dt(i),dt(o.$$.fragment,t),l=!1},d(t){t&&$(e),c[n].d(),$t(o)}}}function Sn(){document.exitFullscreen()}function Nn(t,e,n){let i,s,o,l=0,r=!1;de.subscribe(t=>n(0,l=t));return document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("fullscreenchange",t=>null===document.fullscreenElement?(n(2,r=!1),void window.document.body.classList.toggle("dark-mode")):t),[l,i,r,s,o,function(t){n(4,o=t.detail.text),console.log("START",o),document.documentElement.requestFullscreen().then(()=>{n(2,r=!0),window.document.body.classList.toggle("dark-mode")}).catch(t=>console.log(t))},function(t){console.log("HANDLE",o.settings),console.log(t.detail.text),void 0!==t.detail.text&&Sn(),console.log(t.detail.text);const e=void 0!==t.detail.text?t.detail.text:141;console.log(e),s(e,o.bikeName,o.settings,me())},function(t){J[t?"unshift":"push"](()=>{i=t,n(1,i)})},function(){l=W(this.value),n(0,l)},function(t){s=t,n(3,s)}]}return new class extends bt{constructor(t){super(),wt(this,t,Nn,Cn,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
